const _0x5e8a9a=_0x1c02;(function(_0x6837e3,_0x2673bf){const _0x1c57be=_0x1c02,_0x25112f=_0x6837e3();while(!![]){try{const _0x2afe84=-parseInt(_0x1c57be(0x19f))/0x1*(parseInt(_0x1c57be(0x199))/0x2)+parseInt(_0x1c57be(0x193))/0x3+parseInt(_0x1c57be(0x1b7))/0x4*(parseInt(_0x1c57be(0x1c0))/0x5)+parseInt(_0x1c57be(0x197))/0x6+parseInt(_0x1c57be(0x1b1))/0x7+parseInt(_0x1c57be(0x1b2))/0x8*(parseInt(_0x1c57be(0x192))/0x9)+parseInt(_0x1c57be(0x1c9))/0xa*(-parseInt(_0x1c57be(0x195))/0xb);if(_0x2afe84===_0x2673bf)break;else _0x25112f['push'](_0x25112f['shift']());}catch(_0x2807cd){_0x25112f['push'](_0x25112f['shift']());}}}(_0x19dd,0x813db));const _0x12c1c6=(function(){let _0x31b505=!![];return function(_0x42ea89,_0x29c179){const _0x20bcc2=_0x31b505?function(){const _0x5e8ac1=_0x1c02;if(_0x29c179){const _0x2c5537=_0x29c179[_0x5e8ac1(0x1c5)](_0x42ea89,arguments);return _0x29c179=null,_0x2c5537;}}:function(){};return _0x31b505=![],_0x20bcc2;};}()),_0x2cad8e=_0x12c1c6(this,function(){const _0x5152a5=_0x1c02,_0x159d94=function(){const _0x173a89=_0x1c02;let _0x65681b;try{_0x65681b=Function(_0x173a89(0x1cd)+_0x173a89(0x1a7)+');')();}catch(_0x4f5d2e){_0x65681b=window;}return _0x65681b;},_0x3bf9c3=_0x159d94(),_0x226b12=_0x3bf9c3[_0x5152a5(0x1cb)]=_0x3bf9c3['console']||{},_0x3c0332=[_0x5152a5(0x1b0),_0x5152a5(0x1af),_0x5152a5(0x1ae),_0x5152a5(0x19c),'exception',_0x5152a5(0x1da),'trace'];for(let _0x188720=0x0;_0x188720<_0x3c0332[_0x5152a5(0x19e)];_0x188720++){const _0x1c0586=_0x12c1c6[_0x5152a5(0x1d6)][_0x5152a5(0x194)][_0x5152a5(0x19d)](_0x12c1c6),_0x1a1786=_0x3c0332[_0x188720],_0xb4b76a=_0x226b12[_0x1a1786]||_0x1c0586;_0x1c0586['__proto__']=_0x12c1c6[_0x5152a5(0x19d)](_0x12c1c6),_0x1c0586[_0x5152a5(0x1be)]=_0xb4b76a[_0x5152a5(0x1be)][_0x5152a5(0x19d)](_0xb4b76a),_0x226b12[_0x1a1786]=_0x1c0586;}});_0x2cad8e();import{newSymbol,symbol,popularSymbols,symbolsCache,granularity,baseToken,quoteToken,baseVolumeTable,quoteVolumeTable,globalCandles,higherTimeframeCandles,tradeSize,candlesData,latestCandle,ticker}from'../data.js';import{corsProxy}from'./proxy.js';function _0x19dd(){const _0x4b2b5c=['askPr','4RlowDN','change24h','Unknown\x20error\x20fetching\x20ticker','error','bind','length','521439VEOryc','low24h','12h','replace','map','data','N/A','30min','{}.constructor(\x22return\x20this\x22)(\x20)','15m','Failed\x20to\x20fetch\x20BitGet\x20OHLCV:\x20','Failed\x20to\x20fetch\x20BitGet\x20symbols','quoteCoin','1min','Failed\x20to\x20fetch\x20BitGet\x20ticker','info','warn','log','1359456HhrgRf','2698120ggJEYH','code','Invalid\x20OHLCV\x20response\x20format:\x20','bitget','/api/v2/spot/market/tickers?symbol=','1092MyhecO','5min','Invalid\x20time\x20range:\x20startTime\x20(','baseCoin','https://api.bitget.com/api/v2/spot/market/candles?symbol=','bidPr','text','toString',',\x20must\x20be\x20between\x201\x20and\x201000','13045JVRoAy','usdtVolume',')\x20must\x20be\x20less\x20than\x20endTime\x20(','msg','&endTime=','apply','1day','stringify','open','3628440nWYuKa','floor','console','status','return\x20(function()\x20','3min','json','30m','high24h','Unsupported\x20timeframe:\x20','1week','/api/v2/spot/public/symbols','Invalid\x20limit:\x20','constructor','sort','00000','15min','table','isArray','&granularity=','askSz','9vNsPIK','1805364tbWJlO','prototype','22iCbwBX',',\x20expected\x20format\x20is\x20BTC/USDT','2714514QEwtbF'];_0x19dd=function(){return _0x4b2b5c;};return _0x19dd();}const BASE_URL='https://api.bitget.com';export const timeframes={'1m':_0x5e8a9a(0x1ac),'3m':_0x5e8a9a(0x1ce),'5m':_0x5e8a9a(0x1b8),'15m':_0x5e8a9a(0x1d9),'30m':_0x5e8a9a(0x1a6),'1h':'1h','4h':'4h','6h':'6h','12h':'12h','1d':_0x5e8a9a(0x1c6),'3d':'3day','1w':_0x5e8a9a(0x1d3),'1M':'1M'};function _0x1c02(_0x2aecd4,_0x3530f6){const _0x2f60bb=_0x19dd();return _0x1c02=function(_0x2cad8e,_0x12c1c6){_0x2cad8e=_0x2cad8e-0x192;let _0x347744=_0x2f60bb[_0x2cad8e];return _0x347744;},_0x1c02(_0x2aecd4,_0x3530f6);}export const granularityMap={'1m':0x3c*0x3e8,'3m':0x3*0x3c*0x3e8,'5m':0x5*0x3c*0x3e8,'15m':0xf*0x3c*0x3e8,'30m':0x1e*0x3c*0x3e8,'1h':0x3c*0x3c*0x3e8,'4h':0x4*0x3c*0x3c*0x3e8,'6h':0x6*0x3c*0x3c*0x3e8,'12h':0xc*0x3c*0x3c*0x3e8,'1d':0x18*0x3c*0x3c*0x3e8,'3d':0x3*0x18*0x3c*0x3c*0x3e8,'1w':0x7*0x18*0x3c*0x3c*0x3e8,'1M':0x1e*0x18*0x3c*0x3c*0x3e8};export function granularityToSeconds(_0x3881f1){const _0x15529a=0x3c,_0x359f1e=0xe10,_0x45123f=0x15180,_0x3c1f25=0x93a80,_0x5e8ebb=0x24ea00,_0x4eac28={'1m':_0x15529a,'3m':0x3*_0x15529a,'5m':0x5*_0x15529a,'15m':0xf*_0x15529a,'30m':0x1e*_0x15529a,'1h':_0x359f1e,'2h':0x2*_0x359f1e,'4h':0x4*_0x359f1e,'6h':0x6*_0x359f1e,'12h':0xc*_0x359f1e,'1d':_0x45123f,'3d':0x3*_0x45123f,'1w':_0x3c1f25,'1M':_0x5e8ebb};return _0x4eac28[_0x3881f1]||_0x15529a;}export const nextHtfGranularityMap={'1m':'3m','3m':'5m','5m':_0x5e8a9a(0x1a8),'15m':_0x5e8a9a(0x1d0),'30m':'1h','1h':'4h','4h':'6h','6h':_0x5e8a9a(0x1a1),'12h':'1d','1d':'3d','3d':'1w','1w':'1M','1M':'1M'};export function timeframeFromMs(_0x54d0cb){const _0x10f47f=_0x5e8a9a;return _0x54d0cb===0xea60?'1m':_0x54d0cb===0x2bf20?'3m':_0x54d0cb===0x493e0?'5m':_0x54d0cb===0xdbba0?_0x10f47f(0x1a8):_0x54d0cb===0x1b7740?_0x10f47f(0x1d0):_0x54d0cb===0x36ee80?'1h':_0x54d0cb===0x6ddd00?'2h':_0x54d0cb===0xdbba00?'4h':_0x54d0cb===0x1499700?'6h':_0x54d0cb===0x2932e00?_0x10f47f(0x1a1):_0x54d0cb===0x5265c00?'1d':_0x54d0cb===0xf731400?'3d':_0x54d0cb===0x240c8400?'1w':_0x54d0cb===0x90321000?'1M':_0x10f47f(0x1a5);}export async function fetchSymbols(){const _0x41b2e0=_0x5e8a9a;if(symbolsCache[_0x41b2e0(0x1b5)][_0x41b2e0(0x19e)]>0x0)return symbolsCache[_0x41b2e0(0x1b5)];const _0x24a819=BASE_URL+_0x41b2e0(0x1d4),_0x8a65a6=corsProxy+_0x24a819,_0x1ca4b1=await fetch(_0x8a65a6);if(!_0x1ca4b1['ok'])throw new Error(_0x41b2e0(0x1aa));const _0x5a359a=await _0x1ca4b1[_0x41b2e0(0x1cf)]();if(_0x5a359a[_0x41b2e0(0x1b3)]!==_0x41b2e0(0x1d8))throw new Error(_0x5a359a[_0x41b2e0(0x1c3)]||'Unknown\x20error\x20fetching\x20symbols');let _0x6fae11=_0x5a359a[_0x41b2e0(0x1a4)][_0x41b2e0(0x1a3)](_0x186381=>_0x186381[_0x41b2e0(0x1ba)]+'/'+_0x186381[_0x41b2e0(0x1ab)]);return symbolsCache['bitget']=_0x6fae11,symbolsCache[_0x41b2e0(0x1b5)];}export async function fetchOHLCV(_0x5f5814,_0x1c23b7,_0x16c695,_0x2c92c5,_0x23f289){const _0x3c6615=_0x5e8a9a,_0x5d9856=timeframes[_0x1c23b7];if(!_0x5d9856)throw new Error(_0x3c6615(0x1d2)+_0x1c23b7);if(!_0x5f5814||!_0x5f5814['includes']('/'))throw new Error('Invalid\x20symbol\x20format:\x20'+_0x5f5814+_0x3c6615(0x196));const _0x2170fd=_0x5f5814[_0x3c6615(0x1a2)]('/',''),_0x411b86=Math[_0x3c6615(0x1ca)](_0x16c695),_0x205a8b=Math[_0x3c6615(0x1ca)](_0x2c92c5);if(_0x411b86>=_0x205a8b)throw new Error(_0x3c6615(0x1b9)+_0x411b86+_0x3c6615(0x1c2)+_0x205a8b+')');if(_0x23f289<0x1||_0x23f289>0x3e8)throw new Error(_0x3c6615(0x1d5)+_0x23f289+_0x3c6615(0x1bf));const _0x3f48c3=_0x3c6615(0x1bb)+_0x2170fd+_0x3c6615(0x1dc)+_0x5d9856+'&startTime='+_0x411b86+_0x3c6615(0x1c4)+_0x205a8b+'&limit='+_0x23f289,_0x28bd49=corsProxy+_0x3f48c3,_0x45e573=await fetch(_0x28bd49);if(!_0x45e573['ok']){const _0x58e37e=await _0x45e573[_0x3c6615(0x1bd)]();throw new Error(_0x3c6615(0x1a9)+_0x45e573[_0x3c6615(0x1cc)]+'\x20'+_0x58e37e);}const _0x1d6fb8=await _0x45e573[_0x3c6615(0x1cf)]();if(_0x1d6fb8['code']!==_0x3c6615(0x1d8))throw new Error(_0x1d6fb8[_0x3c6615(0x1c3)]||'Unknown\x20error\x20fetching\x20OHLCV');if(!Array[_0x3c6615(0x1db)](_0x1d6fb8[_0x3c6615(0x1a4)]))throw new Error(_0x3c6615(0x1b4)+JSON[_0x3c6615(0x1c7)](_0x1d6fb8));return _0x1d6fb8['data']['map'](_0x502ac8=>[Number(_0x502ac8[0x0]),Number(_0x502ac8[0x1]),Number(_0x502ac8[0x2]),Number(_0x502ac8[0x3]),Number(_0x502ac8[0x4]),Number(_0x502ac8[0x5]),Number(_0x502ac8[0x7]),Number(_0x502ac8[0x6])])[_0x3c6615(0x1d7)]((_0x5cd10a,_0x4f5fa2)=>_0x5cd10a[0x0]-_0x4f5fa2[0x0]);}export async function fetchTicker(_0x5c4576){const _0x11c871=_0x5e8a9a,_0x413dcc=BASE_URL+_0x11c871(0x1b6)+_0x5c4576['replace']('/',''),_0x140415=corsProxy+_0x413dcc,_0x5b82a0=await fetch(_0x140415);if(!_0x5b82a0['ok'])throw new Error(_0x11c871(0x1ad));const _0x4eaf4d=await _0x5b82a0[_0x11c871(0x1cf)]();if(_0x4eaf4d['code']!=='00000')throw new Error(_0x4eaf4d[_0x11c871(0x1c3)]||_0x11c871(0x19b));const _0x11f86a=_0x4eaf4d[_0x11c871(0x1a4)][0x0];return{'symbol':_0x5c4576,'high24h':Number(_0x11f86a[_0x11c871(0x1d1)]),'open':Number(_0x11f86a[_0x11c871(0x1c8)]),'low24h':Number(_0x11f86a[_0x11c871(0x1a0)]),'lastPr':Number(_0x11f86a['lastPr']),'quoteVolume':Number(_0x11f86a['quoteVolume']),'baseVolume':Number(_0x11f86a['baseVolume']),'usdtVolume':Number(_0x11f86a[_0x11c871(0x1c1)]),'bidPr':Number(_0x11f86a[_0x11c871(0x1bc)]),'askPr':Number(_0x11f86a[_0x11c871(0x198)]),'bidSz':Number(_0x11f86a['bidSz']),'askSz':Number(_0x11f86a[_0x11c871(0x1dd)]),'change24h':Number(_0x11f86a[_0x11c871(0x19a)]),'ts':Number(_0x11f86a['ts'])};}