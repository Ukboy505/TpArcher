const _0xcd3054=_0x4b69;(function(_0x424402,_0x295af4){const _0x4f5cf6=_0x4b69,_0x241d52=_0x424402();while(!![]){try{const _0x2f2ed0=-parseInt(_0x4f5cf6(0x1db))/0x1+-parseInt(_0x4f5cf6(0x178))/0x2+-parseInt(_0x4f5cf6(0x22a))/0x3*(parseInt(_0x4f5cf6(0x155))/0x4)+parseInt(_0x4f5cf6(0x166))/0x5+-parseInt(_0x4f5cf6(0x1d9))/0x6+-parseInt(_0x4f5cf6(0x22c))/0x7+parseInt(_0x4f5cf6(0x258))/0x8;if(_0x2f2ed0===_0x295af4)break;else _0x241d52['push'](_0x241d52['shift']());}catch(_0x8a4cf4){_0x241d52['push'](_0x241d52['shift']());}}}(_0x2160,0xd883a));import{calculateIndicatorChartData}from'./indicators.js';import{validateIndicatorData}from'./validation.js';import{getIndicatorParams,priceLevels,showSignalNotification}from'./ui.js';import{newSymbol,globalCandles,latestCandle,withLatestCandle,higherTimeframeCandles,htfLatestCandle,initialState,granularity,fetchOHLCV,signalMarkerIndex,htfSignalMarkerIndex}from'./data.js';function _0x2160(){const _0xbf682e=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22legend-block\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>','don_upper','No\x20valid\x20HTF\x20chart\x20data','Error\x20restoring\x20upper\x20time\x20range:','bollinger_upper','addEventListener','supportPrice','block','right','arrowDown','transparent','ichimoku','applyOptions','EMA\x20Short','htfBuy','fractals','fibbands_','Dotted','width','Error\x20cleaning\x20up\x20lower\x20chart:','indicators',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20L:\x20','Error\x20setting\x20pattern\x20markers:','Ichimoku\x20Kijun','pow','from','includes','markers','getBoundingClientRect','Error\x20setting\x20main\x20signal\x20marker:','rsi','filter','No\x20valid\x20candles\x20provided:','addHistogramSeries','data','startsWith','MACD\x20Signal','aroon','chaikin_osc','reverse','Error\x20resizing\x20lower\x20chart:','Error\x20setting\x20autoScroll\x20range:','htfSupport','aroon_down','keys','lower','Failed\x20to\x20remove\x20upper\x20series\x20for\x20','fib','min','resistance','support','MACD\x20Histogram','ichimoku_kijun','Envelope\x20Middle','OBV','ema_short','belowBar','Dashed','\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20O:\x20','signalMarkers','#eab308','Skipping\x20chart\x20update:\x20Initialization\x20failed.','lower-chart-container','toUpperCase','potentialEntry','replace','stochastic_k','3wTlXPh','Stochastic\x20%D','4312336NMtUgj','value','Chart\x20legend\x20or\x20OHLCVQ\x20element\x20not\x20found:','Error\x20syncing\x20upper\x20chart:','takeProfit',';\x22></span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','macd','Entry\x20Price','_primary','clientWidth','#under-chart-checkboxes\x20input[type=\x22checkbox\x22]','name','PSAR','index','obv','#facc15','Invalid\x20candle\x20or\x20time\x20at\x20index:','psar_bearish','Donchian\x20Lower','ema_long','\x20data\x20point\x20at\x20time\x20','pivot_','N/A','high','addLineSeries','Stochastic\x20%K','Supertrend','createPriceLine','envelope_middle','height','400px','Candlestick\x20series\x20not\x20initialized.','innerHTML','Required\x20elements\x20for\x20resizing\x20not\x20found','100%','gridColor','don_middle','rgba(','aroon_up','Donchian\x20Middle','HTF\x20Resistance','Failed\x20to\x20adjust\x20price\x20scale\x20for\x20','aroon_osc','Volume','28566248kjbZOb','Pattern\x20markers\x20set\x20successfully','push','ZigZag','toFixed','Cannot\x20set\x20pattern\x20markers:\x20Invalid\x20signalResult\x20or\x20chartData',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20V:\x20','htfResistance','scrollToRealTime','keyPoints','Invalid\x20Heikin\x20Ashi\x20data:','timeframe','chartBackground','Aroon\x20Oscillator','length','psar_bullish','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>','Invalid\x20target\x20time\x20for\x20autoScroll:','htf','Stop\x20Loss','Aroon\x20Down','subscribeVisibleTimeRangeChange','htfCandlestick','Failed\x20to\x20remove\x20price\x20line\x20for\x20','Error\x20setting\x20up\x20lower\x20indicator\x20','priceScale','No\x20valid\x20data\x20for\x20','slice','stochastic_d','atr','LastBar','.checkbox-line','find','apply','htfSignalMarkers','low','3558628aQQlxZ','warn','addCandlestickSeries','time','envelope_lower','buy','pivot','ichimoku_tenkan','max',',\x200.4)','Envelope\x20Lower','bollinger_lower','Invalid\x20index\x20for\x20chartData,\x20using\x20latest\x20candle:','fibbands','envelope','ichimoku_senkou_a','Ichimoku\x20Tenkan','7392620JJPSfu','macd_signal','chartPatterns','auto-scroll-checkbox','haCandlestick','Solid','removeSeries','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','No\x20chart\x20control\x20checkboxes\x20found.','pivot_2','inBar','bollinger','Cannot\x20set\x20HTF\x20signal\x20markers:\x20Invalid\x20input\x20or\x20markers\x20disabled','fit-content-checkbox','Ichimoku\x20Senkou\x20A','under-chart-checkboxes','don_lower','close','38644LymeLt','display','resistancePrice','Cannot\x20apply\x20fitContent:\x20no\x20valid\x20time\x20data','Fib\x20Band\x20','HTF\x20Support','Chart\x20containers\x20not\x20found:','RSI','Failed\x20to\x20remove\x20lower\x20series\x20for\x20','items','map','PriceLineSource','chart-legend','clientHeight','undefined','log','envelope_upper','-checkbox','stochastic','stopLoss','entryPrice','style','sell','Error\x20scrolling\x20to\x20real-time:','circle','enabled','createChart','data-theme','open','PriceScaleMode','some','change','container',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20H:\x20','ichimoku_senkou_b','setData','Pivot\x20Level\x20','signal','checked','candlePatterns','sync-time-scale-checkbox','abs','none',',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20C:\x20','isArray','priceLines','resize','price','bollinger_middle','MACD','Take\x20Profit','body','Potential\x20Entry','Bollinger\x20Lower','Failed\x20to\x20create\x20price\x20line\x20for\x20','setVisibleRange','upper-chart-container','Ichimoku\x20Senkou\x20B','100px','dark','LineStyle','toLowerCase','volume','arrowUp','<span\x20class=\x22legend-label\x22>OHLCV:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22legend-value\x22\x20style=\x22color:\x20','error',',\x200.3)','neutral','Fractals','observe','Invalid\x20index\x20for\x20htfChartData\x20(remove\x20marker):','Error\x20syncing\x20lower\x20chart:','macd_histogram','Donchian\x20Upper','zigzag','<div\x20class=\x22legend-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22legend-color\x22\x20style=\x22background-color:\x20','don','supertrend','Invalid\x20candle\x20data:','EMA\x20Long','message','Lightweight\x20Charts\x20library\x20not\x20loaded.','CrosshairMode','Cannot\x20set\x20signal\x20markers:\x20Invalid\x20input\x20or\x20markers\x20disabled','ema','Error\x20applying\x20fitContent:','fib_','setMarkers','legendText','levels','unsubscribeVisibleTimeRangeChange','timeScale','upper','_htf','remove','getVisibleRange','fitContent','6581712UJNtLU','Normal','1540484wuNHSZ','Invalid\x20higher\x20timeframe\x20candle\x20data:','Support','forEach','aboveBar','getElementById','psar','querySelectorAll','minHeight','Error\x20cleaning\x20up\x20upper\x20chart:','Misaligned\x20','indicatorParams'];_0x2160=function(){return _0xbf682e;};return _0x2160();}import{generateTradingSignal}from'./signals.js';import{generateSmcTradingSignal}from'./signals-smc.js';import{formatUnixTimestamp,getDynamicDecimals}from'./utils.js';import{themeColors,getCurrentTheme}from'./themes.js';export const indicatorList={'upper':[_0xcd3054(0x1cc),'ma',_0xcd3054(0x171),'pivot','ichimoku',_0xcd3054(0x216),'supertrend',_0xcd3054(0x1e1),_0xcd3054(0x1f6),'zigzag',_0xcd3054(0x1c4),'fibbands','envelope'],'lower':[_0xcd3054(0x205),'stochastic',_0xcd3054(0x232),_0xcd3054(0x14e),_0xcd3054(0x20c),_0xcd3054(0x1b6),_0xcd3054(0x23a),_0xcd3054(0x20d)]};export let selectedUpperIndicators={'ema':![],'ma':![],'bollinger':![],'pivot':![],'ichimoku':![],'fib':![],'supertrend':![],'psar':![],'fractals':![],'zigzag':![],'don':![],'fibbands':![],'envelope':![]};export let selectedLowerIndicators={'rsi':![],'stochastic':![],'macd':![],'atr':![],'aroon':![],'volume':![],'obv':![],'chaikin_osc':![]};export const priceLevelList=[_0xcd3054(0x18c),_0xcd3054(0x230),_0xcd3054(0x18b),_0xcd3054(0x227),_0xcd3054(0x219),'resistance',_0xcd3054(0x211),_0xcd3054(0x25f)];export let selectedPriceLevels={'entryPrice':![],'takeProfit':![],'stopLoss':![],'potentialEntry':![],'support':![],'resistance':![],'htfSupport':![],'htfResistance':![]};export let selectedCandlesticks={'htfCandlestick':![],'haCandlestick':![]};const selectedSignalMarkers={'signalMarkers':![],'htfSignalMarkers':![]};let upperChart=null,lowerChart=null,candlestickSeries=null,higherTimeframeSeries=null,upperIndicatorSeries={},lowerIndicatorSeries={},priceLines={},patternSeries={},previousCandlesLength=0x0,chartData=null,htfChartData=null,candles=null,lastCandlesParam=[],lastPriceLevelsParam=[],lastSignalResult={},lastHtfSignalResult={},lastIsRealTimeUpdate=![],lastHtfCandlesParam=[],signalMarker,htfSignalMarker,lastSignalMarkerIndex=-0x1,lastHtfSignalMarkerIndex=-0x1,fitContentActive=![],autoScrollActive=![],syncTimeScaleActive=![],previousUpperTimeRange=null,previousLowerTimeRange=null,syncUpperToLower=null,syncLowerToUpper=null;function getPriceLineConfigs(){const _0x171ea6=_0xcd3054,_0x2edc07=getCurrentTheme();return[{'key':_0x171ea6(0x219),'color':themeColors[_0x2edc07][_0x171ea6(0x1a5)][_0x171ea6(0x219)],'style':LightweightCharts[_0x171ea6(0x1b4)][_0x171ea6(0x16b)],'title':_0x171ea6(0x1dd)},{'key':'resistance','color':themeColors[_0x2edc07][_0x171ea6(0x1a5)][_0x171ea6(0x218)],'style':LightweightCharts[_0x171ea6(0x1b4)]['Solid'],'title':'Resistance'},{'key':_0x171ea6(0x18c),'color':themeColors[_0x2edc07][_0x171ea6(0x1a5)][_0x171ea6(0x18c)],'style':LightweightCharts[_0x171ea6(0x1b4)]['Dashed'],'title':_0x171ea6(0x233)},{'key':_0x171ea6(0x230),'color':themeColors[_0x2edc07][_0x171ea6(0x1a5)][_0x171ea6(0x230)],'style':LightweightCharts[_0x171ea6(0x1b4)][_0x171ea6(0x220)],'title':_0x171ea6(0x1aa)},{'key':_0x171ea6(0x18b),'color':themeColors[_0x2edc07][_0x171ea6(0x1a5)][_0x171ea6(0x18b)],'style':LightweightCharts[_0x171ea6(0x1b4)][_0x171ea6(0x220)],'title':_0x171ea6(0x144)},{'key':_0x171ea6(0x227),'color':themeColors[_0x2edc07][_0x171ea6(0x1a5)][_0x171ea6(0x227)],'style':LightweightCharts['LineStyle'][_0x171ea6(0x1f8)],'title':_0x171ea6(0x1ac)},{'key':_0x171ea6(0x211),'color':themeColors[_0x2edc07][_0x171ea6(0x1a5)][_0x171ea6(0x211)],'style':LightweightCharts['LineStyle']['Solid'],'title':_0x171ea6(0x17d)},{'key':_0x171ea6(0x25f),'color':themeColors[_0x2edc07]['priceLines'][_0x171ea6(0x25f)],'style':LightweightCharts[_0x171ea6(0x1b4)][_0x171ea6(0x16b)],'title':_0x171ea6(0x254)}];}function _0x4b69(_0x48b8cc,_0x28bdff){const _0x21602a=_0x2160();return _0x4b69=function(_0x4b69ff,_0x34eae6){_0x4b69ff=_0x4b69ff-0x139;let _0xb33044=_0x21602a[_0x4b69ff];return _0xb33044;},_0x4b69(_0x48b8cc,_0x28bdff);}function shouldShowLowerChart(){const _0x5027f1=_0xcd3054,_0x5a1a7d=getIndicatorParams();return indicatorList[_0x5027f1(0x214)]['some'](_0x517229=>selectedLowerIndicators[_0x517229]&&_0x5a1a7d[_0x5027f1(0x1e6)][_0x517229]?.[_0x5027f1(0x191)]&&Object['keys'](lowerIndicatorSeries)[_0x5027f1(0x196)](_0x55542f=>_0x55542f[_0x5027f1(0x20a)](_0x517229)));}export function initializeChart(){const _0x44567a=_0xcd3054,_0x2c73b7=document[_0x44567a(0x1e0)](_0x44567a(0x1b0)),_0x313718=document['getElementById'](_0x44567a(0x225));if(!_0x2c73b7||!_0x313718)return console[_0x44567a(0x1b9)](_0x44567a(0x17e),{'upperChartContainer':!!_0x2c73b7,'lowerChartContainer':!!_0x313718}),![];if(typeof LightweightCharts==='undefined')return console[_0x44567a(0x1b9)](_0x44567a(0x1c9)),![];_0x2c73b7['style'][_0x44567a(0x1f9)]=_0x44567a(0x24e),_0x2c73b7[_0x44567a(0x18d)]['height']=_0x44567a(0x24a),_0x313718[_0x44567a(0x18d)][_0x44567a(0x1f9)]=_0x44567a(0x24e),_0x313718[_0x44567a(0x18d)][_0x44567a(0x249)]=_0x44567a(0x1b2);if(upperChart)upperChart[_0x44567a(0x1d6)]();if(lowerChart)lowerChart[_0x44567a(0x1d6)]();upperChart=null,lowerChart=null,candlestickSeries=null,higherTimeframeSeries=null,upperIndicatorSeries={},lowerIndicatorSeries={},Object[_0x44567a(0x213)](priceLines)['forEach'](_0x306cb7=>priceLines[_0x306cb7]=null);try{const _0x5020f4=getCurrentTheme();return upperChart=LightweightCharts[_0x44567a(0x192)](_0x2c73b7,{'width':_0x2c73b7[_0x44567a(0x235)],'height':_0x2c73b7['clientHeight']||0x190,'layout':{'background':{'color':themeColors[_0x5020f4]['chartBackground']},'textColor':themeColors[_0x5020f4][_0x44567a(0x1d0)]},'grid':{'vertLines':{'color':themeColors[_0x5020f4][_0x44567a(0x24f)],'style':LightweightCharts[_0x44567a(0x1b4)][_0x44567a(0x220)],'width':0x2,'visible':!![]},'horzLines':{'color':themeColors[_0x5020f4][_0x44567a(0x24f)],'style':LightweightCharts[_0x44567a(0x1b4)][_0x44567a(0x16b)],'width':1.5,'visible':!![]}},'timeScale':{'timeVisible':!![],'secondsVisible':![],'rightOffset':0x1e,'borderColor':themeColors[_0x5020f4][_0x44567a(0x24f)]},'rightPriceScale':{'borderColor':themeColors[_0x5020f4][_0x44567a(0x24f)],'autoScale':!![],'visible':!![]},'crosshair':{'mode':LightweightCharts['CrosshairMode'][_0x44567a(0x1da)],'vertLine':{'color':themeColors[_0x5020f4][_0x44567a(0x24f)],'width':0x2,'style':LightweightCharts[_0x44567a(0x1b4)]['Solid'],'visible':!![],'labelVisible':!![],'labelBackgroundColor':themeColors[_0x5020f4][_0x44567a(0x13d)]},'horzLine':{'color':themeColors[_0x5020f4][_0x44567a(0x24f)],'width':0x2,'style':LightweightCharts[_0x44567a(0x1b4)][_0x44567a(0x16b)],'visible':!![],'labelVisible':!![],'labelBackgroundColor':themeColors[_0x5020f4]['chartBackground']}},'handleScroll':{'mouseWheel':!![],'pressedMouseMove':!![],'horzTouchDrag':!![],'vertTouchDrag':!![]},'handleScale':{'axisPressedMouseMove':{'time':!![],'price':!![]},'mouseWheel':!![],'pinch':!![]}}),lowerChart=LightweightCharts[_0x44567a(0x192)](_0x313718,{'width':_0x313718['clientWidth'],'height':_0x313718['clientHeight']||0x64,'layout':{'background':{'color':themeColors[_0x5020f4][_0x44567a(0x13d)]},'textColor':themeColors[_0x5020f4]['legendText']},'grid':{'vertLines':{'color':themeColors[_0x5020f4][_0x44567a(0x24f)],'style':LightweightCharts[_0x44567a(0x1b4)]['Dashed'],'width':0x2,'visible':!![]},'horzLines':{'color':themeColors[_0x5020f4]['gridColor'],'style':LightweightCharts[_0x44567a(0x1b4)][_0x44567a(0x16b)],'width':1.5,'visible':!![]}},'timeScale':{'timeVisible':!![],'secondsVisible':![],'rightOffset':0x1e,'borderColor':themeColors[_0x5020f4]['gridColor']},'rightPriceScale':{'borderColor':themeColors[_0x5020f4][_0x44567a(0x24f)],'autoScale':!![],'visible':!![]},'crosshair':{'mode':LightweightCharts[_0x44567a(0x1ca)][_0x44567a(0x1da)],'vertLine':{'color':themeColors[_0x5020f4]['gridColor'],'width':1.5,'style':LightweightCharts[_0x44567a(0x1b4)][_0x44567a(0x1f8)],'visible':!![],'labelVisible':!![],'labelBackgroundColor':themeColors[_0x5020f4][_0x44567a(0x13d)]},'horzLine':{'color':themeColors[_0x5020f4][_0x44567a(0x24f)],'width':1.5,'style':LightweightCharts['LineStyle'][_0x44567a(0x1f8)],'visible':!![],'labelVisible':!![],'labelBackgroundColor':themeColors[_0x5020f4][_0x44567a(0x13d)]}}}),_0x313718[_0x44567a(0x18d)][_0x44567a(0x179)]=shouldShowLowerChart()?_0x44567a(0x1ee):_0x44567a(0x1a2),candlestickSeries=upperChart[_0x44567a(0x157)]({'upColor':themeColors[_0x5020f4][_0x44567a(0x1fb)][_0x44567a(0x21e)],'downColor':themeColors[_0x5020f4][_0x44567a(0x1fb)][_0x44567a(0x23f)],'borderVisible':![],'wickUpColor':themeColors[_0x5020f4][_0x44567a(0x1fb)]['ema_short'],'wickDownColor':themeColors[_0x5020f4][_0x44567a(0x1fb)]['ema_long'],'visible':!![],'priceLineVisible':!![],'priceLineSource':LightweightCharts[_0x44567a(0x183)]['LastBar'],'priceLineColor':themeColors[_0x5020f4]['indicators'][_0x44567a(0x21e)],'priceLineWidth':0x1,'priceLineStyle':LightweightCharts[_0x44567a(0x1b4)][_0x44567a(0x220)]}),higherTimeframeSeries=upperChart['addCandlestickSeries']({'upColor':'rgba('+hexToRgb(themeColors[_0x5020f4][_0x44567a(0x1fb)]['ema_short'])+_0x44567a(0x1ba),'downColor':_0x44567a(0x251)+hexToRgb(themeColors[_0x5020f4][_0x44567a(0x1fb)]['ema_long'])+_0x44567a(0x1ba),'borderVisible':![],'wickUpColor':_0x44567a(0x251)+hexToRgb(themeColors[_0x5020f4]['indicators'][_0x44567a(0x21e)])+',\x200.3)','wickDownColor':_0x44567a(0x251)+hexToRgb(themeColors[_0x5020f4][_0x44567a(0x1fb)][_0x44567a(0x23f)])+_0x44567a(0x1ba),'visible':selectedCandlesticks[_0x44567a(0x147)]}),_0x313718[_0x44567a(0x18d)][_0x44567a(0x179)]===_0x44567a(0x1ee)&&(syncUpperToLower=()=>{const _0x5e4e1c=_0x44567a;if(syncTimeScaleActive&&chartData&&chartData[_0x5e4e1c(0x13f)]>0x0){const _0x542374=Math['min'](...chartData[_0x5e4e1c(0x182)](_0x4427b8=>_0x4427b8[_0x5e4e1c(0x158)])),_0x42d337=upperChart[_0x5e4e1c(0x1d3)]()[_0x5e4e1c(0x1d7)]();if(_0x42d337&&_0x42d337[_0x5e4e1c(0x200)]<_0x42d337['to']&&lowerChart)try{lowerChart[_0x5e4e1c(0x1d3)]()[_0x5e4e1c(0x1af)]({'from':_0x542374,'to':_0x42d337['to']});}catch(_0xf8d736){console[_0x5e4e1c(0x1b9)](_0x5e4e1c(0x1bf),_0xf8d736);}}},syncLowerToUpper=()=>{const _0x44cbde=_0x44567a;if(syncTimeScaleActive&&htfChartData&&htfChartData['length']>0x0){const _0x3b0e7b=Math[_0x44cbde(0x217)](...htfChartData[_0x44cbde(0x182)](_0x4dbb61=>_0x4dbb61[_0x44cbde(0x158)])),_0x40eec7=lowerChart[_0x44cbde(0x1d3)]()[_0x44cbde(0x1d7)]();if(_0x40eec7&&_0x40eec7[_0x44cbde(0x200)]<_0x40eec7['to']&&upperChart)try{upperChart['timeScale']()[_0x44cbde(0x1af)]({'from':_0x3b0e7b,'to':_0x40eec7['to']});}catch(_0x489ab3){console[_0x44cbde(0x1b9)](_0x44cbde(0x22f),_0x489ab3);}}},syncTimeScaleActive&&(upperChart[_0x44567a(0x1d3)]()['subscribeVisibleTimeRangeChange'](syncUpperToLower),lowerChart[_0x44567a(0x1d3)]()[_0x44567a(0x146)](syncLowerToUpper))),upperChart[_0x44567a(0x1d3)]()[_0x44567a(0x146)](()=>{const _0x12b13a=_0x44567a;if(lastIsRealTimeUpdate&&autoScrollActive&&chartData&&chartData[_0x12b13a(0x13f)]>0x0)try{upperChart[_0x12b13a(0x1d3)]()[_0x12b13a(0x139)](),fitLatestCandle(chartData);}catch(_0x20c36d){console[_0x12b13a(0x1b9)](_0x12b13a(0x18f),_0x20c36d);}}),window[_0x44567a(0x1ec)](_0x44567a(0x1a6),chartResizeHandler),initializeThemeListener(),!![];}catch(_0xfcae2e){return console[_0x44567a(0x1b9)]('Error\x20initializing\x20chart:',_0xfcae2e),![];}}function initializeThemeListener(){const _0x474f6c=_0xcd3054,_0x40fd21=document[_0x474f6c(0x1ab)];let _0x576008=getCurrentTheme();const _0x550609=new MutationObserver(()=>{const _0x2cff6f=_0x474f6c,_0x6158fd=getCurrentTheme();_0x6158fd!==_0x576008&&(_0x576008=_0x6158fd,lastCandlesParam&&(upperChart['applyOptions']({'layout':{'background':{'color':themeColors[_0x6158fd]['chartBackground']},'textColor':themeColors[_0x6158fd][_0x2cff6f(0x1d0)]},'grid':{'vertLines':{'color':themeColors[_0x6158fd][_0x2cff6f(0x24f)]},'horzLines':{'color':themeColors[_0x6158fd][_0x2cff6f(0x24f)]}},'rightPriceScale':{'borderColor':themeColors[_0x6158fd][_0x2cff6f(0x24f)]}}),lowerChart[_0x2cff6f(0x1f3)]({'layout':{'background':{'color':themeColors[_0x6158fd][_0x2cff6f(0x13d)]},'textColor':themeColors[_0x6158fd][_0x2cff6f(0x1d0)]},'grid':{'vertLines':{'color':themeColors[_0x6158fd][_0x2cff6f(0x24f)]},'horzLines':{'color':themeColors[_0x6158fd][_0x2cff6f(0x24f)]}},'rightPriceScale':{'borderColor':themeColors[_0x6158fd]['gridColor']}}),candlestickSeries[_0x2cff6f(0x1f3)]({'upColor':themeColors[_0x6158fd]['indicators'][_0x2cff6f(0x21e)],'downColor':themeColors[_0x6158fd][_0x2cff6f(0x1fb)][_0x2cff6f(0x23f)],'wickUpColor':themeColors[_0x6158fd][_0x2cff6f(0x1fb)][_0x2cff6f(0x21e)],'wickDownColor':themeColors[_0x6158fd][_0x2cff6f(0x1fb)][_0x2cff6f(0x23f)],'visible':!![]}),higherTimeframeSeries[_0x2cff6f(0x1f3)]({'upColor':'rgba('+hexToRgb(themeColors[_0x6158fd][_0x2cff6f(0x1fb)][_0x2cff6f(0x21e)])+_0x2cff6f(0x1ba),'downColor':_0x2cff6f(0x251)+hexToRgb(themeColors[_0x6158fd][_0x2cff6f(0x1fb)]['ema_long'])+',\x200.3)','wickUpColor':_0x2cff6f(0x251)+hexToRgb(themeColors[_0x6158fd][_0x2cff6f(0x1fb)][_0x2cff6f(0x21e)])+_0x2cff6f(0x1ba),'wickDownColor':_0x2cff6f(0x251)+hexToRgb(themeColors[_0x6158fd][_0x2cff6f(0x1fb)][_0x2cff6f(0x23f)])+',\x200.3)','visible':selectedCandlesticks['htfCandlestick']}),updateIndicatorSeries(lastCandlesParam),updateLevelSeries(),updateChart(lastCandlesParam,lastPriceLevelsParam,lastSignalResult,lastIsRealTimeUpdate,lastHtfCandlesParam,lastHtfSignalResult)));});_0x550609[_0x474f6c(0x1bd)](_0x40fd21,{'attributes':!![],'attributeFilter':[_0x474f6c(0x193)]});}const debounce=(_0x2f2f6a,_0xe73143)=>{let _0x3c9a66;return(..._0x3604e3)=>{const _0x30bc98=_0x4b69;clearTimeout(_0x3c9a66),_0x3c9a66=setTimeout(()=>_0x2f2f6a[_0x30bc98(0x152)](this,_0x3604e3),_0xe73143);};},chartResizeHandler=debounce(()=>{const _0x42c74f=_0xcd3054,_0x4fea86=document[_0x42c74f(0x1e0)]('upper-chart-container'),_0x4b70c6=document[_0x42c74f(0x1e0)](_0x42c74f(0x225)),_0x4411f3=document[_0x42c74f(0x1e0)](_0x42c74f(0x175)),_0x5ba794=document[_0x42c74f(0x1e0)](_0x42c74f(0x184)),_0x5e4687=document[_0x42c74f(0x1e0)](_0x42c74f(0x198));if(!_0x4fea86||!_0x4b70c6||!_0x4411f3||!_0x5ba794){console[_0x42c74f(0x156)](_0x42c74f(0x24d));return;}upperChart&&_0x4fea86[_0x42c74f(0x235)]&&_0x4fea86[_0x42c74f(0x185)]&&upperChart[_0x42c74f(0x1a6)](_0x4fea86[_0x42c74f(0x235)],_0x4fea86['clientHeight']);const _0x38c136=shouldShowLowerChart(),_0x13ef23=0x96,_0x3b6b19=0x64,_0x125f43=0x64;let _0x52e26c=_0x125f43;if(_0x38c136){const _0x1768cd=indicatorList[_0x42c74f(0x214)][_0x42c74f(0x206)](_0x4f425d=>selectedLowerIndicators[_0x4f425d]&&getIndicatorParams()[_0x42c74f(0x1e6)][_0x4f425d]?.[_0x42c74f(0x191)])[_0x42c74f(0x13f)];_0x52e26c=_0x13ef23+(_0x1768cd-0x1)*_0x3b6b19;}lowerChart&&_0x4b70c6['clientWidth']&&_0x52e26c&&(_0x4b70c6['style'][_0x42c74f(0x249)]=_0x52e26c+'px',lowerChart['resize'](_0x4b70c6['clientWidth'],_0x52e26c));let _0x220907=0x0;const _0x211226=_0x4411f3[_0x42c74f(0x1e2)](_0x42c74f(0x150));_0x211226[_0x42c74f(0x1de)](_0x2b212e=>{const _0x47dff0=_0x42c74f,_0x522122=_0x2b212e[_0x47dff0(0x203)]()['height'];_0x220907+=_0x522122+0xa;});const _0x19bbd2=_0x5ba794[_0x42c74f(0x203)]()[_0x42c74f(0x249)],_0x5df789=_0x4fea86[_0x42c74f(0x185)]||0x190,_0x33aeb9=_0x5df789+_0x52e26c+_0x220907+_0x19bbd2+0x1e;if(_0x5e4687){const _0x2becb4=0x14,_0x30728f=_0x33aeb9+_0x2becb4;_0x5e4687[_0x42c74f(0x18d)][_0x42c74f(0x1e3)]=_0x30728f+'px';}chartData&&chartData['length']>0x0&&fitLatestCandle(chartData);},0x64);export function initializeTimeScaleControls(){const _0x310319=_0xcd3054,_0x1988fc=document[_0x310319(0x1e0)](_0x310319(0x173)),_0x309d5c=document[_0x310319(0x1e0)](_0x310319(0x169)),_0x52486f=document[_0x310319(0x1e0)](_0x310319(0x1a0)),_0x4e8980=()=>{const _0x3fd832=_0x310319;if(upperChart&&chartData&&chartData[_0x3fd832(0x13f)]>0x0){const _0x5dbcaf=upperChart['timeScale']()['getVisibleRange']();_0x5dbcaf&&_0x5dbcaf['from']&&_0x5dbcaf['to']&&_0x5dbcaf['from']<_0x5dbcaf['to']&&(previousUpperTimeRange={'from':_0x5dbcaf[_0x3fd832(0x200)],'to':_0x5dbcaf['to']});const _0x4a1005=lowerChart['timeScale']()['getVisibleRange']();_0x4a1005&&_0x4a1005['from']&&_0x4a1005['to']&&_0x4a1005[_0x3fd832(0x200)]<_0x4a1005['to']&&(previousLowerTimeRange={'from':_0x4a1005['from'],'to':_0x4a1005['to']});}};syncUpperToLower=()=>{const _0x1a20de=_0x310319;if(syncTimeScaleActive&&chartData&&chartData[_0x1a20de(0x13f)]>0x0){const _0x789b7e=upperChart[_0x1a20de(0x1d3)]()[_0x1a20de(0x1d7)]();if(_0x789b7e&&_0x789b7e[_0x1a20de(0x200)]<_0x789b7e['to']&&lowerChart)try{lowerChart['timeScale']()[_0x1a20de(0x1af)](_0x789b7e);}catch(_0x3e05ee){console['error'](_0x1a20de(0x1bf),_0x3e05ee);}}},syncLowerToUpper=()=>{const _0x2db026=_0x310319;if(syncTimeScaleActive&&chartData&&chartData['length']>0x0){const _0x4cda1f=lowerChart[_0x2db026(0x1d3)]()['getVisibleRange']();if(_0x4cda1f&&_0x4cda1f[_0x2db026(0x200)]<_0x4cda1f['to']&&upperChart)try{upperChart[_0x2db026(0x1d3)]()[_0x2db026(0x1af)](_0x4cda1f);}catch(_0x85a82){console[_0x2db026(0x1b9)](_0x2db026(0x22f),_0x85a82);}}},_0x1988fc&&_0x1988fc[_0x310319(0x1ec)](_0x310319(0x197),()=>{const _0x998613=_0x310319;if(!upperChart||!chartData||chartData[_0x998613(0x13f)]===0x0){console[_0x998613(0x156)]('Cannot\x20apply\x20fitContent:\x20chart\x20or\x20data\x20not\x20ready'),_0x1988fc['checked']=![],fitContentActive=![];return;}if(_0x1988fc[_0x998613(0x19e)]){_0x4e8980();const _0x1feb36=chartData['filter'](_0x52d205=>_0x52d205[_0x998613(0x158)]&&!isNaN(_0x52d205[_0x998613(0x158)]));if(_0x1feb36[_0x998613(0x13f)]>0x0)try{upperChart[_0x998613(0x1d3)]()['fitContent'](),syncTimeScaleActive&&lowerChart[_0x998613(0x1d3)]()[_0x998613(0x1d8)]();}catch(_0x2b588e){console[_0x998613(0x1b9)]('Error\x20applying\x20fitContent:',_0x2b588e),_0x1988fc[_0x998613(0x19e)]=![],fitContentActive=![];}else console[_0x998613(0x156)](_0x998613(0x17b)),_0x1988fc[_0x998613(0x19e)]=![],fitContentActive=![];fitContentActive=!![];}else{fitContentActive=![];if(previousUpperTimeRange&&previousUpperTimeRange[_0x998613(0x200)]<previousUpperTimeRange['to'])try{upperChart[_0x998613(0x1d3)]()[_0x998613(0x1af)](previousUpperTimeRange);}catch(_0x39e580){console[_0x998613(0x1b9)](_0x998613(0x1ea),_0x39e580);}if(syncTimeScaleActive&&previousLowerTimeRange&&previousLowerTimeRange['from']<previousLowerTimeRange['to'])try{lowerChart[_0x998613(0x1d3)]()[_0x998613(0x1af)](previousLowerTimeRange);}catch(_0x1f07f7){console[_0x998613(0x1b9)]('Error\x20restoring\x20lower\x20time\x20range:',_0x1f07f7);}}}),_0x309d5c&&_0x309d5c[_0x310319(0x1ec)]('change',()=>{const _0x30ebc9=_0x310319;if(!upperChart||!chartData||chartData['length']<0x1e){console['warn']('Cannot\x20apply\x20autoScroll:\x20chart\x20or\x20insufficient\x20data',{'chartDataLength':chartData?.[_0x30ebc9(0x13f)]}),_0x309d5c[_0x30ebc9(0x19e)]=![],autoScrollActive=![];return;}if(_0x309d5c['checked']){const _0x60e879=Math[_0x30ebc9(0x15d)](0x0,chartData[_0x30ebc9(0x13f)]-0x1e),_0x419064=chartData[_0x60e879]['time'];if(!_0x419064||isNaN(_0x419064)){console[_0x30ebc9(0x156)](_0x30ebc9(0x142),_0x419064),_0x309d5c[_0x30ebc9(0x19e)]=![],autoScrollActive=![];return;}const _0x3e5f81=upperChart[_0x30ebc9(0x1d3)](),_0x381d6e=_0x3e5f81[_0x30ebc9(0x1d7)]();if(_0x381d6e&&_0x381d6e[_0x30ebc9(0x200)]<_0x381d6e['to']){const _0x5b0ec9=_0x381d6e['to']-_0x381d6e['from'];try{_0x3e5f81[_0x30ebc9(0x1af)]({'from':_0x419064-_0x5b0ec9/0x2,'to':_0x419064+_0x5b0ec9/0x2}),syncTimeScaleActive&&lowerChart[_0x30ebc9(0x1d3)]()['setVisibleRange']({'from':_0x419064-_0x5b0ec9/0x2,'to':_0x419064+_0x5b0ec9/0x2});}catch(_0x4b3436){console[_0x30ebc9(0x1b9)](_0x30ebc9(0x210),_0x4b3436),_0x309d5c[_0x30ebc9(0x19e)]=![],autoScrollActive=![];}}autoScrollActive=!![];}else autoScrollActive=![];}),_0x52486f&&(_0x52486f['addEventListener'](_0x310319(0x197),()=>{const _0x2347c2=_0x310319;syncTimeScaleActive=_0x52486f[_0x2347c2(0x19e)];if(syncTimeScaleActive){upperChart[_0x2347c2(0x1d3)]()[_0x2347c2(0x146)](syncUpperToLower),lowerChart[_0x2347c2(0x1d3)]()[_0x2347c2(0x146)](syncLowerToUpper);const _0x2498a4=upperChart[_0x2347c2(0x1d3)]()[_0x2347c2(0x1d7)]();if(_0x2498a4&&_0x2498a4[_0x2347c2(0x200)]<_0x2498a4['to'])try{lowerChart[_0x2347c2(0x1d3)]()['setVisibleRange'](_0x2498a4);}catch(_0x504b06){console['error']('Error\x20initializing\x20sync:',_0x504b06);}upperChart[_0x2347c2(0x1d3)]()[_0x2347c2(0x1f3)]({'rightOffset':0x1e}),lowerChart['timeScale']()['applyOptions']({'rightOffset':0x1e});}else upperChart[_0x2347c2(0x1d3)]()[_0x2347c2(0x1d2)](syncUpperToLower),lowerChart[_0x2347c2(0x1d3)]()['unsubscribeVisibleTimeRangeChange'](syncLowerToUpper);}),_0x52486f[_0x310319(0x19e)]=syncTimeScaleActive,syncTimeScaleActive&&(upperChart[_0x310319(0x1d3)]()[_0x310319(0x146)](syncUpperToLower),lowerChart[_0x310319(0x1d3)]()[_0x310319(0x146)](syncLowerToUpper),upperChart['timeScale']()[_0x310319(0x1f3)]({'rightOffset':0x1e}),lowerChart[_0x310319(0x1d3)]()[_0x310319(0x1f3)]({'rightOffset':0x1e})));}function toCamelCase(_0x19cd55){const _0x5df29a=_0xcd3054,_0x2d4da6={'support':_0x5df29a(0x219),'resistance':_0x5df29a(0x218),'entry\x20price':_0x5df29a(0x18c),'take\x20profit':_0x5df29a(0x230),'potential\x20entry':_0x5df29a(0x227),'stop\x20loss':_0x5df29a(0x18b),'htf\x20support':_0x5df29a(0x211),'htf\x20resistance':_0x5df29a(0x25f)},_0x619b8a=_0x19cd55[_0x5df29a(0x1b5)]();if(_0x2d4da6[_0x619b8a])return _0x2d4da6[_0x619b8a];return _0x619b8a['replace'](/[\s-]+(.)/g,(_0x510545,_0x22adb6)=>_0x22adb6[_0x5df29a(0x226)]())[_0x5df29a(0x228)](/[\s-]/g,'');}export function initializeChartControls(){const _0x40e88f=_0xcd3054,_0x29cb26=document['querySelectorAll'](_0x40e88f(0x236));if(_0x29cb26[_0x40e88f(0x13f)]===0x0){console[_0x40e88f(0x156)](_0x40e88f(0x16e));return;}_0x29cb26[_0x40e88f(0x1de)](_0x4efaa4=>{const _0x4a6f82=_0x40e88f,_0x21952=toCamelCase(_0x4efaa4['id'][_0x4a6f82(0x228)](_0x4a6f82(0x189),''));if(_0x21952 in selectedPriceLevels)_0x4efaa4[_0x4a6f82(0x19e)]=selectedPriceLevels[_0x21952];else{if(_0x21952 in selectedUpperIndicators)_0x4efaa4[_0x4a6f82(0x19e)]=selectedUpperIndicators[_0x21952];else{if(_0x21952 in selectedLowerIndicators)_0x4efaa4[_0x4a6f82(0x19e)]=selectedLowerIndicators[_0x21952];else{if(_0x21952 in selectedCandlesticks)_0x4efaa4[_0x4a6f82(0x19e)]=selectedCandlesticks[_0x21952];else _0x21952 in selectedSignalMarkers&&(_0x4efaa4[_0x4a6f82(0x19e)]=selectedSignalMarkers[_0x21952]);}}}_0x4efaa4['addEventListener'](_0x4a6f82(0x197),()=>{const _0x592b41=_0x4a6f82;if(_0x21952 in selectedPriceLevels)selectedPriceLevels[_0x21952]=_0x4efaa4[_0x592b41(0x19e)];else{if(_0x21952 in selectedUpperIndicators)selectedUpperIndicators[_0x21952]=_0x4efaa4[_0x592b41(0x19e)];else{if(_0x21952 in selectedLowerIndicators)selectedLowerIndicators[_0x21952]=_0x4efaa4[_0x592b41(0x19e)];else{if(_0x21952 in selectedCandlesticks)selectedCandlesticks[_0x21952]=_0x4efaa4[_0x592b41(0x19e)];else _0x21952 in selectedSignalMarkers&&(selectedSignalMarkers[_0x21952]=_0x4efaa4[_0x592b41(0x19e)]);}}}(lastCandlesParam&&lastHtfCandlesParam||lastCandlesParam)&&updateChart(lastCandlesParam,lastPriceLevelsParam,lastSignalResult,lastIsRealTimeUpdate,lastHtfCandlesParam,lastHtfSignalResult);});}),window['initializeChartControls']=!![];}function setPatternMarkers(_0x46d2fc,_0x48fe0c,_0x5d7a90){const _0x40dc68=_0xcd3054;if(!_0x46d2fc||!candlestickSeries||!_0x5d7a90||_0x5d7a90['length']===0x0){console[_0x40dc68(0x156)](_0x40dc68(0x25d));return;}Object['values'](patternSeries)['forEach'](_0x3396ef=>upperChart[_0x40dc68(0x16c)](_0x3396ef)),patternSeries={};const _0x1bb323=[];(_0x46d2fc['candlePatterns']||[])[_0x40dc68(0x1de)](_0x3fe9ad=>{const _0x5d4ef0=_0x40dc68;if(_0x3fe9ad[_0x5d4ef0(0x19d)]!==0x0&&_0x3fe9ad['index']>=0x0&&_0x3fe9ad[_0x5d4ef0(0x239)]<_0x5d7a90[_0x5d4ef0(0x13f)]){const _0x4fdf22=_0x5d7a90[_0x3fe9ad[_0x5d4ef0(0x239)]],_0xecf81a=_0x3fe9ad[_0x5d4ef0(0x19d)]>0x0;_0x1bb323['push']({'time':_0x4fdf22[_0x5d4ef0(0x158)],'position':_0xecf81a?_0x5d4ef0(0x21f):_0x5d4ef0(0x1df),'color':_0xecf81a?themeColors[getCurrentTheme()][_0x5d4ef0(0x202)][_0x5d4ef0(0x15a)]:themeColors[getCurrentTheme()][_0x5d4ef0(0x202)][_0x5d4ef0(0x18e)],'shape':_0xecf81a?_0x5d4ef0(0x1b7):_0x5d4ef0(0x1f0),'text':_0x3fe9ad[_0x5d4ef0(0x237)],'size':0x1});}}),(_0x46d2fc[_0x40dc68(0x168)]||[])[_0x40dc68(0x1de)](_0x3fb8f3=>{const _0x2db1b2=_0x40dc68;if(_0x3fb8f3[_0x2db1b2(0x19d)]!==0x0&&_0x3fb8f3[_0x2db1b2(0x239)]>=0x0&&_0x3fb8f3[_0x2db1b2(0x239)]<_0x5d7a90[_0x2db1b2(0x13f)]){const _0x5ad96c=_0x5d7a90[_0x3fb8f3['index']],_0xbcb490=_0x3fb8f3['signal']>0x0;_0x1bb323['push']({'time':_0x5ad96c[_0x2db1b2(0x158)],'position':_0xbcb490?_0x2db1b2(0x21f):_0x2db1b2(0x1df),'color':_0xbcb490?themeColors[getCurrentTheme()][_0x2db1b2(0x202)][_0x2db1b2(0x15a)]:themeColors[getCurrentTheme()]['markers'][_0x2db1b2(0x18e)],'shape':_0xbcb490?_0x2db1b2(0x1b7):_0x2db1b2(0x1f0),'text':_0x3fb8f3[_0x2db1b2(0x237)],'size':0x1});if(_0x3fb8f3['keyPoints']&&_0x3fb8f3[_0x2db1b2(0x13a)][_0x2db1b2(0x13f)]>0x1){const _0x52e1a6=_0x3fb8f3[_0x2db1b2(0x237)]+'_'+_0x3fb8f3[_0x2db1b2(0x239)]+_0x2db1b2(0x234);patternSeries[_0x52e1a6]=upperChart[_0x2db1b2(0x244)]({'color':_0xbcb490?themeColors[getCurrentTheme()][_0x2db1b2(0x202)][_0x2db1b2(0x15a)]:themeColors[getCurrentTheme()][_0x2db1b2(0x202)][_0x2db1b2(0x18e)],'lineWidth':0x1,'lineStyle':LightweightCharts[_0x2db1b2(0x1b4)][_0x2db1b2(0x16b)]});const _0x16458c=_0x3fb8f3[_0x2db1b2(0x13a)]['filter'](_0x2c0d3a=>_0x2c0d3a[_0x2db1b2(0x239)]>=0x0&&_0x2c0d3a[_0x2db1b2(0x239)]<_0x5d7a90[_0x2db1b2(0x13f)])['map'](_0x20ffe8=>({'time':_0x5d7a90[_0x20ffe8[_0x2db1b2(0x239)]]['time'],'value':Number(_0x20ffe8[_0x2db1b2(0x1a7)])}))['filter'](_0x1b6203=>!isNaN(_0x1b6203['time'])&&!isNaN(_0x1b6203[_0x2db1b2(0x22d)]));_0x16458c[_0x2db1b2(0x13f)]>0x0?patternSeries[_0x52e1a6][_0x2db1b2(0x19b)](_0x16458c):(upperChart[_0x2db1b2(0x16c)](patternSeries[_0x52e1a6]),delete patternSeries[_0x52e1a6]);}}});_0x48fe0c&&_0x48fe0c[_0x40dc68(0x168)]&&(_0x48fe0c['chartPatterns']||[])[_0x40dc68(0x1de)](_0xf8bf35=>{const _0x548ee4=_0x40dc68;if(_0xf8bf35[_0x548ee4(0x19d)]!==0x0&&_0xf8bf35[_0x548ee4(0x239)]>=0x0&&_0xf8bf35[_0x548ee4(0x239)]<_0x5d7a90['length']){const _0x5ae4bb=_0x5d7a90[_0xf8bf35[_0x548ee4(0x239)]],_0x314501=_0xf8bf35['signal']>0x0;_0x1bb323[_0x548ee4(0x25a)]({'time':_0x5ae4bb[_0x548ee4(0x158)],'position':_0x314501?'belowBar':_0x548ee4(0x1df),'color':_0x314501?themeColors[getCurrentTheme()]['markers'][_0x548ee4(0x1f5)]:themeColors[getCurrentTheme()][_0x548ee4(0x202)]['htfSell'],'shape':_0x314501?'arrowUp':_0x548ee4(0x1f0),'text':_0xf8bf35[_0x548ee4(0x237)]+'\x20(HTF)','size':0x2});if(_0xf8bf35[_0x548ee4(0x13a)]&&_0xf8bf35[_0x548ee4(0x13a)][_0x548ee4(0x13f)]>0x1){const _0x303c1d=_0xf8bf35[_0x548ee4(0x237)]+'_'+_0xf8bf35['index']+_0x548ee4(0x1d5);patternSeries[_0x303c1d]=upperChart[_0x548ee4(0x244)]({'color':_0x314501?themeColors[getCurrentTheme()][_0x548ee4(0x202)][_0x548ee4(0x1f5)]:themeColors[getCurrentTheme()][_0x548ee4(0x202)]['htfSell'],'lineWidth':0x2,'lineStyle':LightweightCharts[_0x548ee4(0x1b4)][_0x548ee4(0x16b)]});const _0x5efa0d=_0xf8bf35[_0x548ee4(0x13a)][_0x548ee4(0x206)](_0x35db9b=>_0x35db9b[_0x548ee4(0x239)]>=0x0&&_0x35db9b[_0x548ee4(0x239)]<_0x5d7a90[_0x548ee4(0x13f)])['map'](_0x53ceb7=>({'time':_0x5d7a90[_0x53ceb7['index']][_0x548ee4(0x158)],'value':Number(_0x53ceb7['price'])}))[_0x548ee4(0x206)](_0x7316f=>!isNaN(_0x7316f[_0x548ee4(0x158)])&&!isNaN(_0x7316f[_0x548ee4(0x22d)]));_0x5efa0d[_0x548ee4(0x13f)]>0x0?patternSeries[_0x303c1d][_0x548ee4(0x19b)](_0x5efa0d):(upperChart['removeSeries'](patternSeries[_0x303c1d]),delete patternSeries[_0x303c1d]);}}});try{candlestickSeries[_0x40dc68(0x1cf)](_0x1bb323),console[_0x40dc68(0x187)](_0x40dc68(0x259));}catch(_0x1e0b40){console['error'](_0x40dc68(0x1fd),_0x1e0b40),candlestickSeries[_0x40dc68(0x1cf)]([]);}}function setSignalMarkers(_0x45f611){const _0x149f72=_0xcd3054;let _0x1f7b5d=lastSignalResult;if(!candlestickSeries||!chartData||chartData[_0x149f72(0x13f)]===0x0||!_0x1f7b5d||!_0x1f7b5d['signal']||!selectedSignalMarkers['signalMarkers']){console[_0x149f72(0x156)](_0x149f72(0x1cb),{'candlestickSeries':!!candlestickSeries,'chartData':!!chartData,'chartDataLength':chartData?.[_0x149f72(0x13f)],'signalResult':!!_0x1f7b5d,'signal':_0x1f7b5d?.['signal'],'selectedSignalMarkers':selectedSignalMarkers[_0x149f72(0x222)]}),candlestickSeries?.[_0x149f72(0x1cf)]([]),signalMarker=null;return;}const _0x5e1b96=getCurrentTheme();let _0x415b64=lastSignalMarkerIndex;(_0x415b64<0x0||_0x415b64>=chartData[_0x149f72(0x13f)])&&(console[_0x149f72(0x156)](_0x149f72(0x161),_0x415b64,{'chartDataLength':chartData[_0x149f72(0x13f)]}),_0x415b64=chartData[_0x149f72(0x13f)]-0x1);const _0x480a05=chartData[_0x415b64];if(!_0x480a05||!_0x480a05[_0x149f72(0x158)]||isNaN(_0x480a05[_0x149f72(0x158)])){console[_0x149f72(0x1b9)](_0x149f72(0x23c),_0x415b64,_0x480a05),candlestickSeries[_0x149f72(0x1cf)]([]),signalMarker=null;return;}const _0x1467d2=_0x1f7b5d[_0x149f72(0x19d)];let _0xcda631,_0x1fdd3e,_0xc5a8c2;const _0x4967d0=_0x1467d2[_0x149f72(0x1b5)](),_0x39096a=_0x1467d2;if(_0x4967d0['includes'](_0x149f72(0x15a)))_0xcda631=themeColors[_0x5e1b96][_0x149f72(0x202)][_0x149f72(0x15a)],_0x1fdd3e='arrowUp',_0xc5a8c2=_0x149f72(0x21f);else{if(_0x4967d0[_0x149f72(0x201)](_0x149f72(0x18e)))_0xcda631=themeColors[_0x5e1b96][_0x149f72(0x202)][_0x149f72(0x18e)],_0x1fdd3e='arrowDown',_0xc5a8c2=_0x149f72(0x1df);else{if(_0x4967d0[_0x149f72(0x201)](_0x149f72(0x1bb)))_0xcda631=_0x5e1b96===_0x149f72(0x1b3)?_0x149f72(0x23b):_0x149f72(0x223),_0x1fdd3e=_0x149f72(0x190),_0xc5a8c2=_0x149f72(0x170);else{console[_0x149f72(0x156)]('Invalid\x20signal:',_0x1467d2),candlestickSeries[_0x149f72(0x1cf)]([]),signalMarker=null;return;}}}signalMarker={'time':_0x480a05[_0x149f72(0x158)],'position':_0xc5a8c2,'color':_0xcda631,'shape':_0x1fdd3e,'text':_0x39096a,'size':0.7,'signal':_0x1467d2};try{candlestickSeries['setMarkers']([signalMarker]);}catch(_0xe6d252){console[_0x149f72(0x1b9)](_0x149f72(0x204),_0xe6d252),candlestickSeries[_0x149f72(0x1cf)]([]),signalMarker=null;}}function setHtfSignalMarkers(_0xe7de82){const _0x1ddcf5=_0xcd3054;let _0x292d95=lastHtfSignalResult;if(!higherTimeframeSeries||!_0xe7de82||_0xe7de82['length']===0x0||!_0x292d95||!_0x292d95[_0x1ddcf5(0x19d)]||!selectedSignalMarkers[_0x1ddcf5(0x153)]){console[_0x1ddcf5(0x156)](_0x1ddcf5(0x172),{'higherTimeframeSeries':!!higherTimeframeSeries,'htfCandlesParam':!!_0xe7de82,'htfCandlesParamLength':_0xe7de82?.[_0x1ddcf5(0x13f)],'signalResult':_0x292d95,'signal':_0x292d95?.['signal'],'selectedSignalMarkers':selectedSignalMarkers[_0x1ddcf5(0x153)]}),higherTimeframeSeries?.[_0x1ddcf5(0x1cf)]([]),htfSignalMarker=null;return;}const _0x28ba91=getCurrentTheme();htfChartData=_0xe7de82[_0x1ddcf5(0x182)](_0x57afe2=>{const _0x46c33c=_0x1ddcf5,_0x553e4e=Number(_0x57afe2[0x0][_0x46c33c(0x25c)](getDynamicDecimals(_0x57afe2[0x0])))/0x3e8,_0x20010e=Number(_0x57afe2[0x1]['toFixed'](getDynamicDecimals(_0x57afe2[0x1]))),_0x398b91=Number(_0x57afe2[0x2][_0x46c33c(0x25c)](getDynamicDecimals(_0x57afe2[0x2]))),_0x3372df=Number(_0x57afe2[0x3][_0x46c33c(0x25c)](getDynamicDecimals(_0x57afe2[0x3]))),_0x246566=Number(_0x57afe2[0x4][_0x46c33c(0x25c)](getDynamicDecimals(_0x57afe2[0x4])));return{'time':_0x553e4e,'open':_0x20010e,'high':_0x398b91,'low':_0x3372df,'close':_0x246566};})['filter'](_0x51d625=>!isNaN(_0x51d625[_0x1ddcf5(0x158)])&&!isNaN(_0x51d625[_0x1ddcf5(0x194)])&&!isNaN(_0x51d625[_0x1ddcf5(0x243)])&&!isNaN(_0x51d625[_0x1ddcf5(0x154)])&&!isNaN(_0x51d625[_0x1ddcf5(0x177)])&&_0x51d625[_0x1ddcf5(0x243)]>=_0x51d625['low']&&_0x51d625[_0x1ddcf5(0x194)]>0x0&&_0x51d625['close']>0x0);if(htfChartData[_0x1ddcf5(0x13f)]===0x0){console['warn'](_0x1ddcf5(0x1e9)),higherTimeframeSeries[_0x1ddcf5(0x1cf)]([]),htfSignalMarker=null;return;}const _0x1a797f=lastHtfSignalMarkerIndex;if(_0x1a797f<0x0||_0x1a797f>=htfChartData[_0x1ddcf5(0x13f)]){console[_0x1ddcf5(0x156)](_0x1ddcf5(0x1be),_0x1a797f,{'htfChartDataLength':htfChartData[_0x1ddcf5(0x13f)]}),higherTimeframeSeries[_0x1ddcf5(0x1cf)]([]),htfSignalMarker=null;return;}const _0x39ed14=htfChartData[_0x1a797f],_0x53e1c7=_0x292d95[_0x1ddcf5(0x19d)];let _0x2d76c4,_0x1f950e,_0x46994a;const _0x207816=_0x53e1c7['toLowerCase'](),_0x209c61=_0x53e1c7;if(_0x207816['includes'](_0x1ddcf5(0x15a))){const _0x2ea0b2=hexToRgb(themeColors[_0x28ba91][_0x1ddcf5(0x202)]['htfBuy']);_0x2d76c4=_0x1ddcf5(0x251)+_0x2ea0b2+_0x1ddcf5(0x15e),_0x1f950e=_0x1ddcf5(0x1b7),_0x46994a=_0x1ddcf5(0x21f);}else{if(_0x207816[_0x1ddcf5(0x201)](_0x1ddcf5(0x18e))){const _0x46eb54=hexToRgb(themeColors[_0x28ba91][_0x1ddcf5(0x202)]['htfSell']);_0x2d76c4=_0x1ddcf5(0x251)+_0x46eb54+_0x1ddcf5(0x15e),_0x1f950e=_0x1ddcf5(0x1f0),_0x46994a='aboveBar';}else{if(_0x207816[_0x1ddcf5(0x201)](_0x1ddcf5(0x1bb))){const _0x3526bf=hexToRgb(_0x28ba91==='dark'?_0x1ddcf5(0x23b):'#eab308');_0x2d76c4=_0x1ddcf5(0x251)+_0x3526bf+',\x200.4)',_0x1f950e=_0x1ddcf5(0x190),_0x46994a=_0x1ddcf5(0x170);}else{console[_0x1ddcf5(0x156)]('Invalid\x20signal:',_0x53e1c7),higherTimeframeSeries['setMarkers']([]),htfSignalMarker=null;return;}}}htfSignalMarker={'time':_0x39ed14[_0x1ddcf5(0x158)],'position':_0x46994a,'color':_0x2d76c4,'shape':_0x1f950e,'text':_0x209c61,'size':0.7,'signal':_0x53e1c7},higherTimeframeSeries['setMarkers']([htfSignalMarker]);}export function updateChart(_0x52ed15,_0x3e543f,_0x1d01b1,_0x236ad3=![],_0x493087,_0x1ddcca={}){const _0x4e368f=_0xcd3054;if(!upperChart||!lowerChart||!candlestickSeries){if(!initializeChart()){console['error'](_0x4e368f(0x224));return;}}candles=_0x52ed15||globalCandles;if(!candles||!Array[_0x4e368f(0x1a4)](candles)||candles[_0x4e368f(0x13f)]===0x0){console['warn'](_0x4e368f(0x207),{'candlesParam':_0x52ed15,'globalCandles':globalCandles}),candlestickSeries[_0x4e368f(0x19b)]([]),higherTimeframeSeries[_0x4e368f(0x19b)]([]);return;}lastCandlesParam=_0x52ed15,lastPriceLevelsParam=_0x3e543f,lastSignalResult=_0x1d01b1,lastHtfSignalResult=_0x1ddcca,lastIsRealTimeUpdate=_0x236ad3,lastHtfCandlesParam=_0x493087,lastSignalMarkerIndex=signalMarkerIndex,lastHtfSignalMarkerIndex=htfSignalMarkerIndex,updateCandleSeries(candles,_0x493087),updateLevelSeries(),updateIndicatorSeries(candles);if(_0x236ad3&&chartData&&chartData['length']>0x0){fitLatestCandle(chartData);if(autoScrollActive)try{upperChart['timeScale']()['scrollToRealTime']();}catch(_0x43ae60){console[_0x4e368f(0x1b9)](_0x4e368f(0x18f),_0x43ae60);}}if(fitContentActive&&chartData&&chartData[_0x4e368f(0x13f)]>0x0){const _0x1e0c55=chartData['filter'](_0x4744ac=>_0x4744ac['time']&&!isNaN(_0x4744ac[_0x4e368f(0x158)]));if(_0x1e0c55['length']>0x0)try{const _0x848490=Math['min'](..._0x1e0c55[_0x4e368f(0x182)](_0x47925c=>_0x47925c[_0x4e368f(0x158)]));upperChart[_0x4e368f(0x1d3)]()[_0x4e368f(0x1d8)](),syncTimeScaleActive&&htfChartData&&htfChartData[_0x4e368f(0x13f)]>0x0&&lowerChart['timeScale']()['setVisibleRange']({'from':_0x848490,'to':upperChart[_0x4e368f(0x1d3)]()[_0x4e368f(0x1d7)]()['to']});}catch(_0x52a76a){console['error'](_0x4e368f(0x1cd),_0x52a76a);}else console[_0x4e368f(0x156)]('Cannot\x20apply\x20fitContent:\x20no\x20valid\x20time\x20data');}const _0x2ae397=document[_0x4e368f(0x1e0)](_0x4e368f(0x225));_0x2ae397[_0x4e368f(0x18d)][_0x4e368f(0x179)]=shouldShowLowerChart()?_0x4e368f(0x1ee):_0x4e368f(0x1a2),candlestickSeries?.['setMarkers']([]),higherTimeframeSeries?.[_0x4e368f(0x1cf)]([]),signalMarker=null,htfSignalMarker=null,selectedSignalMarkers[_0x4e368f(0x222)]?setSignalMarkers(lastCandlesParam):(candlestickSeries?.[_0x4e368f(0x1cf)]([]),signalMarker=null),selectedSignalMarkers[_0x4e368f(0x153)]&&_0x493087&&_0x493087[_0x4e368f(0x13f)]>0x0?setHtfSignalMarkers(lastHtfCandlesParam):(higherTimeframeSeries?.[_0x4e368f(0x1cf)]([]),htfSignalMarker=null),updateChartLegend(lastCandlesParam);}function fitLatestCandle(_0x54694a){const _0x59948b=_0xcd3054;if(!_0x54694a||_0x54694a[_0x59948b(0x13f)]===0x0||!upperChart)return;const _0x1dec30=_0x54694a[_0x54694a['length']-0x1];if(!_0x1dec30)return;const {high:_0x2765d6,low:_0x25a28a,close:_0x75bf7e}=_0x1dec30,_0x4e40dd=_0x2765d6-_0x25a28a,_0x1c8310=_0x4e40dd*0.2,_0x54e786=_0x25a28a-_0x1c8310,_0x51e088=_0x2765d6+_0x1c8310;try{upperChart[_0x59948b(0x14a)](_0x59948b(0x1ef))['applyOptions']({'visiblePriceRange':{'from':_0x54e786,'to':_0x51e088}}),candlestickSeries[_0x59948b(0x1f3)]({'priceLineVisible':!![],'priceLineSource':LightweightCharts['PriceLineSource'][_0x59948b(0x14f)],'priceLinePrice':_0x75bf7e,'priceLineColor':themeColors[getCurrentTheme()][_0x59948b(0x1fb)]['ema_short'],'priceLineWidth':0x1,'priceLineStyle':LightweightCharts[_0x59948b(0x1b4)][_0x59948b(0x220)]});}catch(_0x3c2b7){console['error']('Error\x20fitting\x20price\x20scale:',_0x3c2b7);}}function updateCandleSeries(_0x175085,_0x336277){const _0x575104=_0xcd3054;if(!candlestickSeries||!higherTimeframeSeries){console[_0x575104(0x1b9)](_0x575104(0x24b));return;}const _0x360b5e=_0x5b7459=>{const _0x391448=_0x575104;let _0x3f1d49=0x2;return _0x5b7459[_0x391448(0x1de)](_0x4f180f=>{const _0x5f5227=_0x391448;[_0x5f5227(0x194),_0x5f5227(0x243),'low',_0x5f5227(0x177)][_0x5f5227(0x1de)](_0x1c5cf5=>{_0x4f180f[_0x1c5cf5]&&(_0x3f1d49=Math['max'](_0x3f1d49,getDynamicDecimals(_0x4f180f[_0x1c5cf5])));});}),Math[_0x391448(0x217)](_0x3f1d49,0xc);};chartData=_0x175085[_0x575104(0x182)](_0x451f5c=>{const _0x2584ac=_0x575104,_0x587b24=Number(_0x451f5c[0x0][_0x2584ac(0x25c)](getDynamicDecimals(_0x451f5c[0x0])))/0x3e8,_0x2a9b63=Number(_0x451f5c[0x1][_0x2584ac(0x25c)](getDynamicDecimals(_0x451f5c[0x1]))),_0x15a4ac=Number(_0x451f5c[0x2][_0x2584ac(0x25c)](getDynamicDecimals(_0x451f5c[0x2]))),_0x184c65=Number(_0x451f5c[0x3][_0x2584ac(0x25c)](getDynamicDecimals(_0x451f5c[0x3]))),_0x2adda2=Number(_0x451f5c[0x4][_0x2584ac(0x25c)](getDynamicDecimals(_0x451f5c[0x4])));if(isNaN(_0x587b24)||isNaN(_0x2a9b63)||isNaN(_0x15a4ac)||isNaN(_0x184c65)||isNaN(_0x2adda2)||_0x15a4ac<_0x184c65||_0x2a9b63<0x0||_0x2adda2<0x0)return console['warn'](_0x2584ac(0x1c6),_0x451f5c),null;return{'time':_0x587b24,'open':_0x2a9b63,'high':_0x15a4ac,'low':_0x184c65,'close':_0x2adda2};})[_0x575104(0x206)](_0x4a35b1=>_0x4a35b1!==null);if(chartData[_0x575104(0x13f)]===0x0){console[_0x575104(0x156)]('No\x20valid\x20chart\x20data,\x20clearing\x20candlestick\x20series.'),candlestickSeries['setData']([]);return;}const _0xaa06a2=_0x360b5e(chartData),_0x23ea07=Math[_0x575104(0x1ff)](0xa,-_0xaa06a2);candlestickSeries['applyOptions']({'priceFormat':{'type':_0x575104(0x1a7),'precision':_0xaa06a2,'minMove':_0x23ea07},'upColor':themeColors[getCurrentTheme()][_0x575104(0x1fb)]['ema_short'],'downColor':themeColors[getCurrentTheme()][_0x575104(0x1fb)]['ema_long'],'borderVisible':![],'wickUpColor':themeColors[getCurrentTheme()][_0x575104(0x1fb)][_0x575104(0x21e)],'wickDownColor':themeColors[getCurrentTheme()]['indicators'][_0x575104(0x23f)],'visible':!![],'priceLineVisible':!![],'priceLineSource':LightweightCharts['PriceLineSource'][_0x575104(0x14f)],'priceLineColor':themeColors[getCurrentTheme()]['indicators']['ema_short'],'priceLineWidth':0x1,'priceLineStyle':LightweightCharts[_0x575104(0x1b4)][_0x575104(0x220)]});let _0x217564=[];if(selectedCandlesticks['haCandlestick']){const _0xe1d8e2=_0x175085[_0x575104(0x182)](_0x27619d=>[Number(_0x27619d[0x1]),Number(_0x27619d[0x2]),Number(_0x27619d[0x3]),Number(_0x27619d[0x4]),Number(_0x27619d[0x5])]);let _0x3b1c34=ha(_0xe1d8e2);_0x217564=_0x3b1c34['map']((_0x583ebf,_0xe38fb4)=>{const _0x15cf28=_0x575104,_0x1c645f=chartData[_0xe38fb4]?.[_0x15cf28(0x158)],_0x506aa9=Number(_0x583ebf[0x0]?.['toFixed'](getDynamicDecimals(_0x583ebf[0x0]))),_0x4b6dc4=Number(_0x583ebf[0x1]?.[_0x15cf28(0x25c)](getDynamicDecimals(_0x583ebf[0x1]))),_0x83775=Number(_0x583ebf[0x2]?.[_0x15cf28(0x25c)](getDynamicDecimals(_0x583ebf[0x2]))),_0x1f1a98=Number(_0x583ebf[0x3]?.[_0x15cf28(0x25c)](getDynamicDecimals(_0x583ebf[0x3])));if(isNaN(_0x1c645f)||isNaN(_0x506aa9)||isNaN(_0x4b6dc4)||isNaN(_0x83775)||isNaN(_0x1f1a98)||_0x4b6dc4<_0x83775||_0x506aa9<0x0||_0x1f1a98<0x0)return console['warn'](_0x15cf28(0x13b),_0x583ebf),null;return{'time':_0x1c645f,'open':_0x506aa9,'high':_0x4b6dc4,'low':_0x83775,'close':_0x1f1a98};})[_0x575104(0x206)](_0x4cf1a3=>_0x4cf1a3!==null);}if(selectedCandlesticks[_0x575104(0x16a)]&&_0x217564[_0x575104(0x13f)]>0x0){const _0x30c448=_0x360b5e(_0x217564),_0x3ba26d=Math[_0x575104(0x1ff)](0xa,-_0x30c448);candlestickSeries[_0x575104(0x1f3)]({'priceFormat':{'type':_0x575104(0x1a7),'precision':_0x30c448,'minMove':_0x3ba26d},'upColor':themeColors[getCurrentTheme()][_0x575104(0x1fb)][_0x575104(0x21e)],'downColor':themeColors[getCurrentTheme()][_0x575104(0x1fb)]['ema_long'],'borderVisible':![],'wickUpColor':themeColors[getCurrentTheme()]['indicators'][_0x575104(0x21e)],'wickDownColor':themeColors[getCurrentTheme()][_0x575104(0x1fb)][_0x575104(0x23f)],'visible':!![]}),candlestickSeries[_0x575104(0x19b)](_0x217564);}else candlestickSeries[_0x575104(0x19b)](chartData);let _0x5066de=[];if(_0x336277&&Array['isArray'](_0x336277)&&_0x336277[_0x575104(0x13f)]>0x0){_0x5066de=_0x336277[_0x575104(0x182)](_0x5aeeb9=>{const _0xf29c11=_0x575104,_0x3b4927=Number(_0x5aeeb9[0x0]['toFixed'](getDynamicDecimals(_0x5aeeb9[0x0])))/0x3e8,_0x54e04f=Number(_0x5aeeb9[0x1][_0xf29c11(0x25c)](getDynamicDecimals(_0x5aeeb9[0x1]))),_0x36e768=Number(_0x5aeeb9[0x2][_0xf29c11(0x25c)](getDynamicDecimals(_0x5aeeb9[0x2]))),_0x562749=Number(_0x5aeeb9[0x3][_0xf29c11(0x25c)](getDynamicDecimals(_0x5aeeb9[0x3]))),_0x227fba=Number(_0x5aeeb9[0x4][_0xf29c11(0x25c)](getDynamicDecimals(_0x5aeeb9[0x4])));if(isNaN(_0x3b4927)||isNaN(_0x54e04f)||isNaN(_0x36e768)||isNaN(_0x562749)||isNaN(_0x227fba)||_0x36e768<_0x562749||_0x54e04f<0x0||_0x227fba<0x0)return console['warn'](_0xf29c11(0x1dc),_0x5aeeb9),null;return{'time':_0x3b4927,'open':_0x54e04f,'high':_0x36e768,'low':_0x562749,'close':_0x227fba};})[_0x575104(0x206)](_0xa37b0e=>_0xa37b0e!==null);const _0x340260=_0x360b5e(_0x5066de),_0x116193=Math[_0x575104(0x1ff)](0xa,-_0x340260);higherTimeframeSeries['applyOptions']({'priceFormat':{'type':_0x575104(0x1a7),'precision':_0x340260,'minMove':_0x116193},'upColor':_0x575104(0x251)+hexToRgb(themeColors[getCurrentTheme()][_0x575104(0x1fb)][_0x575104(0x21e)])+_0x575104(0x1ba),'downColor':_0x575104(0x251)+hexToRgb(themeColors[getCurrentTheme()][_0x575104(0x1fb)][_0x575104(0x23f)])+',\x200.3)','borderVisible':![],'wickUpColor':_0x575104(0x251)+hexToRgb(themeColors[getCurrentTheme()]['indicators']['ema_short'])+',\x200.3)','wickDownColor':_0x575104(0x251)+hexToRgb(themeColors[getCurrentTheme()][_0x575104(0x1fb)][_0x575104(0x23f)])+_0x575104(0x1ba),'visible':selectedCandlesticks['htfCandlestick']});}selectedCandlesticks[_0x575104(0x147)]&&_0x5066de[_0x575104(0x13f)]>0x0?higherTimeframeSeries[_0x575104(0x19b)](_0x5066de):(higherTimeframeSeries['setData']([]),higherTimeframeSeries['applyOptions']({'visible':![]}));}function hexToRgb(_0x58ecf9){const _0x22d293=_0xcd3054,_0x1a5d23=parseInt(_0x58ecf9[_0x22d293(0x14c)](0x1,0x3),0x10),_0x3a5524=parseInt(_0x58ecf9[_0x22d293(0x14c)](0x3,0x5),0x10),_0x2c8440=parseInt(_0x58ecf9['slice'](0x5,0x7),0x10);return _0x1a5d23+',\x20'+_0x3a5524+',\x20'+_0x2c8440;}function updateIndicatorSeries(_0x589b11){const _0x4242f8=_0xcd3054,_0x4957e5=document[_0x4242f8(0x1e0)](_0x4242f8(0x225)),_0x49be84=getIndicatorParams(),_0x50498d=calculateIndicatorChartData(_0x589b11,_0x49be84);Object[_0x4242f8(0x213)](upperIndicatorSeries)['forEach'](_0xed2026=>{const _0x550bde=_0x4242f8;if(upperIndicatorSeries[_0xed2026]&&upperChart)try{upperChart[_0x550bde(0x16c)](upperIndicatorSeries[_0xed2026]);}catch(_0x29a8e7){console['warn'](_0x550bde(0x215)+_0xed2026+':\x20'+_0x29a8e7[_0x550bde(0x1c8)]);}}),upperIndicatorSeries={},Object[_0x4242f8(0x213)](lowerIndicatorSeries)[_0x4242f8(0x1de)](_0x491307=>{const _0x106dc7=_0x4242f8;if(lowerIndicatorSeries[_0x491307]&&lowerChart)try{lowerChart['removeSeries'](lowerIndicatorSeries[_0x491307]);}catch(_0xfa0276){console[_0x106dc7(0x156)](_0x106dc7(0x180)+_0x491307+':\x20'+_0xfa0276[_0x106dc7(0x1c8)]);}}),lowerIndicatorSeries={};const _0x3e7be1=(_0x52dd3b,_0x102a10)=>{const _0x6957ba=_0x4242f8;if(!_0x52dd3b||!Array[_0x6957ba(0x1a4)](_0x52dd3b))return console[_0x6957ba(0x156)](_0x6957ba(0x14b)+_0x102a10),[];const _0x44ec83=chartData[_0x6957ba(0x182)](_0x22d38d=>_0x22d38d[_0x6957ba(0x158)]);return _0x52dd3b[_0x6957ba(0x206)](_0x3d5fef=>{const _0x404a32=_0x6957ba;if(_0x102a10[_0x404a32(0x201)](_0x404a32(0x1f2))&&_0x3d5fef[_0x404a32(0x158)]>_0x44ec83[_0x44ec83[_0x404a32(0x13f)]-0x1])return!![];if(_0x102a10==='fractals'||_0x102a10===_0x404a32(0x1c2)||_0x102a10===_0x404a32(0x20d))return!isNaN(_0x3d5fef[_0x404a32(0x22d)])&&_0x3d5fef['value']!==null&&_0x44ec83[_0x404a32(0x201)](_0x3d5fef[_0x404a32(0x158)]);const _0x4498c2=_0x44ec83[_0x404a32(0x151)](_0x4a91ec=>Math[_0x404a32(0x1a1)](_0x4a91ec-_0x3d5fef[_0x404a32(0x158)])<=0x1);if(!_0x4498c2)return console[_0x404a32(0x156)](_0x404a32(0x1e5)+_0x102a10+_0x404a32(0x240)+_0x3d5fef[_0x404a32(0x158)]),![];return!isNaN(_0x3d5fef[_0x404a32(0x22d)])&&_0x3d5fef[_0x404a32(0x22d)]!==null;});},_0x5ab895=getCurrentTheme();let _0x540396=![],_0x4ea386=0x0;indicatorList[_0x4242f8(0x1d4)][_0x4242f8(0x1de)](_0x320358=>{const _0x23e3ca=_0x4242f8;if(!selectedUpperIndicators[_0x320358]||!_0x49be84[_0x23e3ca(0x1e6)][_0x320358]?.[_0x23e3ca(0x191)])return;try{if(_0x320358===_0x23e3ca(0x1cc)&&_0x50498d[_0x23e3ca(0x21e)]&&_0x50498d[_0x23e3ca(0x23f)])upperIndicatorSeries['ema_short']=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)][_0x23e3ca(0x21e)],'lineWidth':0x2,'title':_0x23e3ca(0x1f4),'visible':!![]}),upperIndicatorSeries['ema_long']=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895]['indicators'][_0x23e3ca(0x23f)],'lineWidth':0x2,'title':_0x23e3ca(0x1c7),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x21e)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d[_0x23e3ca(0x21e)],_0x23e3ca(0x21e))),upperIndicatorSeries[_0x23e3ca(0x23f)]['setData'](_0x3e7be1(_0x50498d[_0x23e3ca(0x23f)],_0x23e3ca(0x23f)));else{if(_0x320358==='ma'&&_0x50498d['ma'])upperIndicatorSeries['ma']=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)]['ma'],'lineWidth':0x2,'title':'MA','visible':!![]}),upperIndicatorSeries['ma'][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d['ma'],'ma'));else{if(_0x320358===_0x23e3ca(0x171)&&_0x50498d[_0x23e3ca(0x1eb)]&&_0x50498d[_0x23e3ca(0x1a8)]&&_0x50498d[_0x23e3ca(0x160)])upperIndicatorSeries[_0x23e3ca(0x1eb)]=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)][_0x23e3ca(0x1eb)],'lineWidth':0x2,'title':'Bollinger\x20Upper','visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x1a8)]=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)][_0x23e3ca(0x1a8)],'lineWidth':0x2,'title':'Bollinger\x20Middle','visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x160)]=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895]['indicators']['bollinger_lower'],'lineWidth':0x2,'title':_0x23e3ca(0x1ad),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x1eb)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d['bollinger_upper'],_0x23e3ca(0x1eb))),upperIndicatorSeries[_0x23e3ca(0x1a8)]['setData'](_0x3e7be1(_0x50498d[_0x23e3ca(0x1a8)],'bollinger_middle')),upperIndicatorSeries[_0x23e3ca(0x160)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d['bollinger_lower'],_0x23e3ca(0x160)));else{if(_0x320358===_0x23e3ca(0x15b)&&_0x50498d[_0x23e3ca(0x15b)])_0x50498d[_0x23e3ca(0x15b)][_0x23e3ca(0x1de)]((_0x1d542a,_0x54e911)=>{const _0x1d9f96=_0x23e3ca,_0x2eaebe=_0x1d9f96(0x241)+_0x54e911;upperIndicatorSeries[_0x2eaebe]=upperChart[_0x1d9f96(0x244)]({'color':themeColors[_0x5ab895][_0x1d9f96(0x1fb)][_0x1d9f96(0x241)+_0x54e911]||themeColors[_0x5ab895]['indicators'][_0x1d9f96(0x16f)],'lineWidth':0x1,'lineStyle':0x2,'title':_0x1d9f96(0x19c)+_0x54e911,'visible':!![]}),upperIndicatorSeries[_0x2eaebe][_0x1d9f96(0x19b)](_0x3e7be1([_0x1d542a],_0x1d9f96(0x241)+_0x54e911));});else{if(_0x320358===_0x23e3ca(0x1f2)&&_0x50498d[_0x23e3ca(0x15c)]&&_0x50498d[_0x23e3ca(0x21b)]&&_0x50498d[_0x23e3ca(0x164)]&&_0x50498d['ichimoku_senkou_b'])upperIndicatorSeries[_0x23e3ca(0x15c)]=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)]['ichimoku_tenkan'],'lineWidth':0x2,'title':_0x23e3ca(0x165),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x21b)]=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)]['ichimoku_kijun'],'lineWidth':0x2,'title':_0x23e3ca(0x1fe),'visible':!![]}),upperIndicatorSeries['ichimoku_senkou_a']=upperChart['addLineSeries']({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)][_0x23e3ca(0x164)],'lineWidth':0x2,'title':_0x23e3ca(0x174),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x19a)]=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)][_0x23e3ca(0x19a)],'lineWidth':0x2,'title':_0x23e3ca(0x1b1),'visible':!![]}),upperIndicatorSeries['ichimoku_tenkan']['setData'](_0x3e7be1(_0x50498d[_0x23e3ca(0x15c)],_0x23e3ca(0x15c))),upperIndicatorSeries['ichimoku_kijun'][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d[_0x23e3ca(0x21b)],_0x23e3ca(0x21b))),upperIndicatorSeries[_0x23e3ca(0x164)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d[_0x23e3ca(0x164)],_0x23e3ca(0x164))),upperIndicatorSeries[_0x23e3ca(0x19a)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d[_0x23e3ca(0x19a)],_0x23e3ca(0x19a)));else{if(_0x320358==='fib'&&_0x50498d['fib'])_0x50498d[_0x23e3ca(0x216)][_0x23e3ca(0x1de)]((_0x4750b3,_0x1b06a2)=>{const _0x595b83=_0x23e3ca,_0x441810=_0x595b83(0x1ce)+_0x1b06a2;upperIndicatorSeries[_0x441810]=upperChart[_0x595b83(0x244)]({'color':themeColors[_0x5ab895][_0x595b83(0x1fb)][_0x595b83(0x216)],'lineWidth':0x1,'lineStyle':0x2,'title':'Fib\x20Level\x20'+_0x1b06a2,'visible':!![]}),upperIndicatorSeries[_0x441810][_0x595b83(0x19b)](_0x3e7be1([_0x4750b3],'fib_'+_0x1b06a2));});else{if(_0x320358===_0x23e3ca(0x1c5)&&_0x50498d['supertrend'])upperIndicatorSeries[_0x23e3ca(0x1c5)]=upperChart['addLineSeries']({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)][_0x23e3ca(0x1c5)],'lineWidth':0x2,'title':_0x23e3ca(0x246),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x1c5)]['setData'](_0x3e7be1(_0x50498d[_0x23e3ca(0x1c5)],_0x23e3ca(0x1c5)));else{if(_0x320358===_0x23e3ca(0x1e1)&&_0x50498d[_0x23e3ca(0x1e1)]){upperIndicatorSeries[_0x23e3ca(0x1e1)]=upperChart[_0x23e3ca(0x244)]({'color':'transparent','lineWidth':0x0,'title':_0x23e3ca(0x238),'visible':!![]});const _0xdef637=_0x3e7be1(_0x50498d['psar'],_0x23e3ca(0x238)),_0x1136f0=_0xdef637[_0x23e3ca(0x182)](_0x307da6=>({'time':_0x307da6['time'],'position':_0x307da6[_0x23e3ca(0x22d)]>chartData['find'](_0xced057=>_0xced057[_0x23e3ca(0x158)]===_0x307da6['time'])?.[_0x23e3ca(0x177)]?_0x23e3ca(0x1df):_0x23e3ca(0x21f),'color':_0x307da6[_0x23e3ca(0x22d)]>chartData[_0x23e3ca(0x151)](_0x59198b=>_0x59198b[_0x23e3ca(0x158)]===_0x307da6[_0x23e3ca(0x158)])?.['close']?themeColors[_0x5ab895]['indicators'][_0x23e3ca(0x23d)]:themeColors[_0x5ab895]['indicators'][_0x23e3ca(0x140)],'shape':'circle','size':0.5}));upperIndicatorSeries[_0x23e3ca(0x1e1)][_0x23e3ca(0x1cf)](_0x1136f0),upperIndicatorSeries[_0x23e3ca(0x1e1)][_0x23e3ca(0x19b)](_0xdef637);}else{if(_0x320358===_0x23e3ca(0x1f6)&&_0x50498d['fractals']){upperIndicatorSeries[_0x23e3ca(0x1f6)]=upperChart['addLineSeries']({'color':_0x23e3ca(0x1f1),'lineWidth':0x0,'title':_0x23e3ca(0x1bc),'visible':!![]});const _0x5e91dc=_0x3e7be1(_0x50498d['fractals'],_0x23e3ca(0x1f6))[_0x23e3ca(0x182)](_0x209b30=>({'time':_0x209b30[_0x23e3ca(0x158)],'position':_0x209b30['value']>chartData[_0x23e3ca(0x151)](_0x6f6563=>_0x6f6563['time']===_0x209b30[_0x23e3ca(0x158)])?.['high']?'aboveBar':'belowBar','color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)][_0x23e3ca(0x1f6)],'shape':_0x209b30[_0x23e3ca(0x22d)]>chartData[_0x23e3ca(0x151)](_0x2b3afd=>_0x2b3afd[_0x23e3ca(0x158)]===_0x209b30[_0x23e3ca(0x158)])?.[_0x23e3ca(0x243)]?_0x23e3ca(0x1f0):_0x23e3ca(0x1b7),'size':0x1}));upperIndicatorSeries[_0x23e3ca(0x1f6)]['setMarkers'](_0x5e91dc);}else{if(_0x320358===_0x23e3ca(0x1c2)&&_0x50498d['zigzag'])upperIndicatorSeries['zigzag']=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895]['indicators']['zigzag'],'lineWidth':0x2,'title':_0x23e3ca(0x25b),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x1c2)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d[_0x23e3ca(0x1c2)],_0x23e3ca(0x1c2)));else{if(_0x320358===_0x23e3ca(0x1c4)&&_0x50498d['don_upper']&&_0x50498d['don_middle']&&_0x50498d['don_lower'])upperIndicatorSeries[_0x23e3ca(0x1e8)]=upperChart['addLineSeries']({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)]['don_upper'],'lineWidth':0x2,'title':_0x23e3ca(0x1c1),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x250)]=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)][_0x23e3ca(0x250)],'lineWidth':0x2,'title':_0x23e3ca(0x253),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x176)]=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895]['indicators'][_0x23e3ca(0x176)],'lineWidth':0x2,'title':_0x23e3ca(0x23e),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x1e8)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d[_0x23e3ca(0x1e8)],_0x23e3ca(0x1e8))),upperIndicatorSeries['don_middle'][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d['don_middle'],_0x23e3ca(0x250))),upperIndicatorSeries[_0x23e3ca(0x176)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d[_0x23e3ca(0x176)],'don_lower'));else{if(_0x320358===_0x23e3ca(0x162)&&_0x50498d['fibbands'])_0x50498d[_0x23e3ca(0x162)][_0x23e3ca(0x1de)]((_0x4bdeae,_0x36847f)=>{const _0x2082a5=_0x23e3ca,_0x255511=_0x2082a5(0x1f7)+_0x36847f;upperIndicatorSeries[_0x255511]=upperChart[_0x2082a5(0x244)]({'color':themeColors[_0x5ab895][_0x2082a5(0x1fb)][_0x2082a5(0x162)],'lineWidth':0x1,'lineStyle':0x2,'title':_0x2082a5(0x17c)+_0x36847f,'visible':!![]}),upperIndicatorSeries[_0x255511][_0x2082a5(0x19b)](_0x3e7be1([_0x4bdeae],_0x2082a5(0x1f7)+_0x36847f));});else _0x320358===_0x23e3ca(0x163)&&_0x50498d['envelope_upper']&&_0x50498d[_0x23e3ca(0x248)]&&_0x50498d[_0x23e3ca(0x159)]&&(upperIndicatorSeries['envelope_upper']=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)][_0x23e3ca(0x188)],'lineWidth':0x2,'title':'Envelope\x20Upper','visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x248)]=upperChart[_0x23e3ca(0x244)]({'color':themeColors[_0x5ab895]['indicators']['envelope_middle'],'lineWidth':0x2,'title':_0x23e3ca(0x21c),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x159)]=upperChart['addLineSeries']({'color':themeColors[_0x5ab895][_0x23e3ca(0x1fb)][_0x23e3ca(0x159)],'lineWidth':0x2,'title':_0x23e3ca(0x15f),'visible':!![]}),upperIndicatorSeries[_0x23e3ca(0x188)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d[_0x23e3ca(0x188)],_0x23e3ca(0x188))),upperIndicatorSeries[_0x23e3ca(0x248)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d[_0x23e3ca(0x248)],'envelope_middle')),upperIndicatorSeries[_0x23e3ca(0x159)][_0x23e3ca(0x19b)](_0x3e7be1(_0x50498d['envelope_lower'],'envelope_lower')));}}}}}}}}}}}}catch(_0x1c43c7){console['error']('Error\x20setting\x20up\x20upper\x20indicator\x20'+_0x320358+':',_0x1c43c7);}}),indicatorList[_0x4242f8(0x214)]['forEach'](_0xcd25c9=>{const _0x4192d3=_0x4242f8;if(!selectedLowerIndicators[_0xcd25c9]||!_0x49be84[_0x4192d3(0x1e6)][_0xcd25c9]?.[_0x4192d3(0x191)])return;_0x540396=!![];try{if(_0xcd25c9==='rsi'&&_0x50498d['rsi'])lowerIndicatorSeries[_0x4192d3(0x205)]=lowerChart['addLineSeries']({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)][_0x4192d3(0x205)],'lineWidth':0x2,'title':_0x4192d3(0x17f),'visible':!![],'priceScaleId':_0x4192d3(0x205)}),lowerIndicatorSeries[_0x4192d3(0x205)][_0x4192d3(0x19b)](_0x3e7be1(_0x50498d[_0x4192d3(0x205)],_0x4192d3(0x205))),_0x4ea386+=0x1;else{if(_0xcd25c9===_0x4192d3(0x18a)&&_0x50498d[_0x4192d3(0x229)]&&_0x50498d[_0x4192d3(0x14d)])lowerIndicatorSeries[_0x4192d3(0x229)]=lowerChart[_0x4192d3(0x244)]({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)]['stochastic_k'],'lineWidth':0x2,'title':_0x4192d3(0x245),'visible':!![],'priceScaleId':_0x4192d3(0x18a)}),lowerIndicatorSeries[_0x4192d3(0x14d)]=lowerChart['addLineSeries']({'color':themeColors[_0x5ab895]['indicators'][_0x4192d3(0x14d)],'lineWidth':0x2,'title':_0x4192d3(0x22b),'visible':!![],'priceScaleId':_0x4192d3(0x18a)}),lowerIndicatorSeries[_0x4192d3(0x229)][_0x4192d3(0x19b)](_0x3e7be1(_0x50498d['stochastic_k'],'stochastic_k')),lowerIndicatorSeries[_0x4192d3(0x14d)]['setData'](_0x3e7be1(_0x50498d[_0x4192d3(0x14d)],_0x4192d3(0x14d))),_0x4ea386+=0x2;else{if(_0xcd25c9===_0x4192d3(0x232)&&_0x50498d[_0x4192d3(0x232)]&&_0x50498d['macd_signal']&&_0x50498d[_0x4192d3(0x1c0)])lowerIndicatorSeries[_0x4192d3(0x232)]=lowerChart[_0x4192d3(0x244)]({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)][_0x4192d3(0x232)],'lineWidth':0x2,'title':_0x4192d3(0x1a9),'visible':!![],'priceScaleId':_0x4192d3(0x232)}),lowerIndicatorSeries[_0x4192d3(0x167)]=lowerChart['addLineSeries']({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)]['macd_signal'],'lineWidth':0x2,'title':_0x4192d3(0x20b),'visible':!![],'priceScaleId':_0x4192d3(0x232)}),lowerIndicatorSeries[_0x4192d3(0x1c0)]=lowerChart[_0x4192d3(0x208)]({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)][_0x4192d3(0x1c0)],'title':_0x4192d3(0x21a),'visible':!![],'priceScaleId':_0x4192d3(0x232)}),lowerIndicatorSeries[_0x4192d3(0x232)][_0x4192d3(0x19b)](_0x3e7be1(_0x50498d[_0x4192d3(0x232)],_0x4192d3(0x232))),lowerIndicatorSeries[_0x4192d3(0x167)][_0x4192d3(0x19b)](_0x3e7be1(_0x50498d['macd_signal'],'macd_signal')),lowerIndicatorSeries[_0x4192d3(0x1c0)]['setData'](_0x3e7be1(_0x50498d[_0x4192d3(0x1c0)],_0x4192d3(0x1c0))),_0x4ea386+=0x3;else{if(_0xcd25c9===_0x4192d3(0x14e)&&_0x50498d[_0x4192d3(0x14e)])lowerIndicatorSeries[_0x4192d3(0x14e)]=lowerChart[_0x4192d3(0x244)]({'color':themeColors[_0x5ab895]['indicators'][_0x4192d3(0x14e)],'lineWidth':0x2,'title':'ATR','visible':!![],'priceScaleId':_0x4192d3(0x14e)}),lowerIndicatorSeries[_0x4192d3(0x14e)]['setData'](_0x3e7be1(_0x50498d[_0x4192d3(0x14e)],'atr')),_0x4ea386+=0x1;else{if(_0xcd25c9===_0x4192d3(0x20c)&&_0x50498d[_0x4192d3(0x252)]&&_0x50498d[_0x4192d3(0x212)]&&_0x50498d[_0x4192d3(0x256)])lowerIndicatorSeries['aroon_up']=lowerChart[_0x4192d3(0x244)]({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)][_0x4192d3(0x252)],'lineWidth':0x2,'title':'Aroon\x20Up','visible':!![],'priceScaleId':'aroon'}),lowerIndicatorSeries[_0x4192d3(0x212)]=lowerChart[_0x4192d3(0x244)]({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)]['aroon_down'],'lineWidth':0x2,'title':_0x4192d3(0x145),'visible':!![],'priceScaleId':_0x4192d3(0x20c)}),lowerIndicatorSeries[_0x4192d3(0x256)]=lowerChart[_0x4192d3(0x244)]({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)][_0x4192d3(0x256)],'lineWidth':0x2,'title':_0x4192d3(0x13e),'visible':!![],'priceScaleId':'aroon'}),lowerIndicatorSeries['aroon_up'][_0x4192d3(0x19b)](_0x3e7be1(_0x50498d[_0x4192d3(0x252)],_0x4192d3(0x252))),lowerIndicatorSeries[_0x4192d3(0x212)]['setData'](_0x3e7be1(_0x50498d[_0x4192d3(0x212)],_0x4192d3(0x212))),lowerIndicatorSeries[_0x4192d3(0x256)][_0x4192d3(0x19b)](_0x3e7be1(_0x50498d[_0x4192d3(0x256)],'aroon_osc')),_0x4ea386+=0x3;else{if(_0xcd25c9===_0x4192d3(0x1b6)&&_0x50498d[_0x4192d3(0x1b6)])lowerIndicatorSeries[_0x4192d3(0x1b6)]=lowerChart[_0x4192d3(0x208)]({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)][_0x4192d3(0x1b6)],'title':_0x4192d3(0x257),'visible':!![],'priceScaleId':_0x4192d3(0x1b6)}),lowerIndicatorSeries['volume'][_0x4192d3(0x19b)](_0x3e7be1(_0x50498d[_0x4192d3(0x1b6)],_0x4192d3(0x1b6))),_0x4ea386+=0x1;else{if(_0xcd25c9===_0x4192d3(0x23a)&&_0x50498d['obv'])lowerIndicatorSeries[_0x4192d3(0x23a)]=lowerChart[_0x4192d3(0x244)]({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)]['obv'],'lineWidth':0x2,'title':_0x4192d3(0x21d),'visible':!![],'priceScaleId':'obv'}),lowerIndicatorSeries[_0x4192d3(0x23a)][_0x4192d3(0x19b)](_0x3e7be1(_0x50498d['obv'],_0x4192d3(0x23a))),_0x4ea386+=0x1;else _0xcd25c9==='chaikin_osc'&&_0x50498d[_0x4192d3(0x20d)]&&(lowerIndicatorSeries[_0x4192d3(0x20d)]=lowerChart[_0x4192d3(0x244)]({'color':themeColors[_0x5ab895][_0x4192d3(0x1fb)][_0x4192d3(0x20d)],'lineWidth':0x2,'title':'Chaikin\x20Oscillator','visible':!![],'priceScaleId':_0x4192d3(0x20d)}),lowerIndicatorSeries['chaikin_osc'][_0x4192d3(0x19b)](_0x3e7be1(_0x50498d[_0x4192d3(0x20d)],_0x4192d3(0x20d))),_0x4ea386+=0x1);}}}}}}}catch(_0x4c6cb8){console['error'](_0x4192d3(0x149)+_0xcd25c9+':',_0x4c6cb8);}});const _0x29a4a2=0x96,_0x941457=0x64,_0x3b7360=0x64;let _0xbe5932=_0x3b7360;if(_0x540396){const _0x589623=indicatorList['lower'][_0x4242f8(0x206)](_0x18fe59=>selectedLowerIndicators[_0x18fe59]&&_0x49be84[_0x4242f8(0x1e6)][_0x18fe59]?.[_0x4242f8(0x191)])[_0x4242f8(0x13f)];_0xbe5932=_0x29a4a2+(_0x589623-0x1)*_0x941457;}_0x4957e5['style'][_0x4242f8(0x249)]=_0xbe5932+'px';if(lowerChart&&_0x4957e5['clientWidth']&&_0xbe5932)try{lowerChart[_0x4242f8(0x1a6)](_0x4957e5[_0x4242f8(0x235)],_0xbe5932);}catch(_0x332176){console['error'](_0x4242f8(0x20f),_0x332176);}_0x4957e5[_0x4242f8(0x18d)][_0x4242f8(0x179)]=_0x540396?_0x4242f8(0x1ee):_0x4242f8(0x1a2);if(_0x540396){const _0x280117=indicatorList[_0x4242f8(0x214)][_0x4242f8(0x206)](_0x2e54fa=>selectedLowerIndicators[_0x2e54fa]&&_0x49be84[_0x4242f8(0x1e6)][_0x2e54fa]?.[_0x4242f8(0x191)]);_0x280117[_0x4242f8(0x1de)]((_0xeeedc6,_0x1dfb2b)=>{const _0x3a0a5a=_0x4242f8,_0x410c50=_0xeeedc6,_0x41dcb0=_0x280117['length'],_0x343ae5=_0x1dfb2b/_0x41dcb0,_0x2b5aeb=0x1-(_0x1dfb2b+0x1)/_0x41dcb0,_0x144d2e={'scaleMargins':{'top':_0x343ae5,'bottom':_0x2b5aeb},'mode':LightweightCharts[_0x3a0a5a(0x195)][_0x3a0a5a(0x1da)],'autoScale':!![],'visible':!![]};try{lowerChart['priceScale'](_0x410c50)[_0x3a0a5a(0x1f3)](_0x144d2e);}catch(_0x23328f){console[_0x3a0a5a(0x156)](_0x3a0a5a(0x255)+_0xeeedc6+':',_0x23328f);}});}updateChartLegend();}function updateLevelSeries(){const _0x3b6012=_0xcd3054;Object[_0x3b6012(0x213)](priceLines)[_0x3b6012(0x1de)](_0x53c4e7=>{const _0x1cdf95=_0x3b6012;if(priceLines[_0x53c4e7]){try{candlestickSeries['removePriceLine'](priceLines[_0x53c4e7]);}catch(_0x3e696c){console['warn'](_0x1cdf95(0x148)+_0x53c4e7+':\x20'+_0x3e696c['message']);}priceLines[_0x53c4e7]=null;}}),priceLines={};const _0x2948bd={},_0x183b9b=lastPriceLevelsParam||[];_0x183b9b['forEach'](_0x4c5560=>{const _0x277d6f=_0x3b6012;_0x4c5560&&_0x4c5560[_0x277d6f(0x237)]&&typeof _0x4c5560[_0x277d6f(0x22d)]!==_0x277d6f(0x186)&&priceLevelList['includes'](_0x4c5560[_0x277d6f(0x237)])&&(_0x2948bd[_0x4c5560[_0x277d6f(0x237)]]=Number(_0x4c5560[_0x277d6f(0x22d)]));}),lastSignalResult&&(lastSignalResult[_0x3b6012(0x18c)]&&lastSignalResult[_0x3b6012(0x18c)]!=='N/A'&&(_0x2948bd[_0x3b6012(0x18c)]=Number(lastSignalResult[_0x3b6012(0x18c)])),lastSignalResult[_0x3b6012(0x230)]&&lastSignalResult[_0x3b6012(0x230)]!==_0x3b6012(0x242)&&(_0x2948bd['takeProfit']=Number(lastSignalResult['takeProfit'])),lastSignalResult[_0x3b6012(0x18b)]&&lastSignalResult[_0x3b6012(0x18b)]!==_0x3b6012(0x242)&&(_0x2948bd['stopLoss']=Number(lastSignalResult[_0x3b6012(0x18b)])),lastSignalResult[_0x3b6012(0x227)]&&lastSignalResult[_0x3b6012(0x227)]!==_0x3b6012(0x242)&&lastSignalResult[_0x3b6012(0x19d)]?.[_0x3b6012(0x1b5)]()[_0x3b6012(0x201)](_0x3b6012(0x18e))&&(_0x2948bd[_0x3b6012(0x227)]=Number(lastSignalResult['potentialEntry'])),lastSignalResult[_0x3b6012(0x1ed)]&&lastSignalResult[_0x3b6012(0x1ed)]!==_0x3b6012(0x242)&&(_0x2948bd[_0x3b6012(0x219)]=Number(lastSignalResult[_0x3b6012(0x1ed)])),lastSignalResult[_0x3b6012(0x17a)]&&lastSignalResult[_0x3b6012(0x17a)]!=='N/A'&&(_0x2948bd[_0x3b6012(0x218)]=Number(lastSignalResult[_0x3b6012(0x17a)]))),lastHtfSignalResult&&(lastHtfSignalResult[_0x3b6012(0x1ed)]&&lastHtfSignalResult[_0x3b6012(0x1ed)]!==_0x3b6012(0x242)&&(_0x2948bd[_0x3b6012(0x211)]=Number(lastHtfSignalResult[_0x3b6012(0x1ed)])),lastHtfSignalResult[_0x3b6012(0x17a)]&&lastHtfSignalResult[_0x3b6012(0x17a)]!=='N/A'&&(_0x2948bd['htfResistance']=Number(lastHtfSignalResult['resistancePrice'])),lastHtfSignalResult['levels']&&Array[_0x3b6012(0x1a4)](lastHtfSignalResult[_0x3b6012(0x1d1)])&&lastHtfSignalResult[_0x3b6012(0x1d1)]['forEach'](_0x301680=>{const _0x3f626a=_0x3b6012,_0x2679e5=_0x301680[_0x3f626a(0x237)];priceLevelList[_0x3f626a(0x201)](_0x2679e5)&&typeof _0x301680[_0x3f626a(0x22d)]!=='undefined'&&(_0x2948bd[_0x2679e5]=Number(_0x301680['value']));})),getPriceLineConfigs()[_0x3b6012(0x1de)](({key:_0x577813,color:_0x9c63fe,style:_0x5bb180,title:_0x5efbd8})=>{const _0x10b573=_0x3b6012;if(!selectedPriceLevels[_0x577813]||!_0x2948bd[_0x577813]||isNaN(_0x2948bd[_0x577813])||_0x2948bd[_0x577813]<=0x0)return;const _0x17cd1e=_0x2948bd[_0x577813],_0x1c41e5=Number(_0x17cd1e[_0x10b573(0x25c)](getDynamicDecimals(_0x17cd1e)));try{priceLines[_0x577813]=candlestickSeries[_0x10b573(0x247)]({'price':_0x1c41e5,'color':_0x9c63fe,'lineWidth':_0x577813[_0x10b573(0x201)](_0x10b573(0x143))?0x2:0x1,'lineStyle':_0x5bb180,'title':_0x5efbd8});}catch(_0x49d488){console[_0x10b573(0x156)](_0x10b573(0x1ae)+_0x577813+':\x20'+_0x49d488[_0x10b573(0x1c8)]);}});}export function updateChartWithSignal(_0x3f5854,_0x32c03f,_0x14fddf=null,_0x38dc5d=![],_0x2ce8ac=[],_0x1dbb3b=null,_0x18200c={}){const _0x37e064=_0xcd3054;if(!_0x3f5854||!_0x32c03f||!Array[_0x37e064(0x1a4)](_0x32c03f)||_0x32c03f['length']===0x0){console['warn']('Invalid\x20signalResult\x20or\x20candles:',{'signalResult':_0x3f5854,'candles':_0x32c03f,'htfSignalResult':_0x18200c});return;}if(!upperChart||!candlestickSeries){if(!initializeChart()){console[_0x37e064(0x1b9)](_0x37e064(0x224));return;}}const _0xf04819=Array['isArray'](_0x2ce8ac)?_0x2ce8ac:[],_0x2dc05b=_0x32c03f,_0x4d52e6=_0xf04819;updateChart(_0x2dc05b,[],_0x3f5854,_0x38dc5d,_0x4d52e6,_0x18200c),_0x38dc5d&&_0x3f5854?.[_0x37e064(0x19d)]&&_0x14fddf&&showSignalNotification(_0x3f5854,_0x14fddf,![]),_0x38dc5d&&_0x18200c?.[_0x37e064(0x19d)]&&_0xf04819[_0x37e064(0x13f)]>0x0&&_0x1dbb3b&&showSignalNotification(_0x18200c,_0x1dbb3b,!![]),updateChartLegend(_0x2dc05b),chartResizeHandler();}export function updateChartLegend(_0x24b126,_0x43af39={}){const _0x20196e=_0xcd3054,_0x268f85=document[_0x20196e(0x1e0)]('chart-legend'),_0x3ce6ac=document[_0x20196e(0x1e0)]('ohlcvq-element'),_0x394f2b=getCurrentTheme();if(!_0x268f85||!_0x3ce6ac){console[_0x20196e(0x156)](_0x20196e(0x22e),{'legendElement':!!_0x268f85,'ohlcvqElement':!!_0x3ce6ac});return;}let _0x59220b='',_0x329b7f;lastCandlesParam&&lastCandlesParam[_0x20196e(0x13f)]>0x0&&(_0x329b7f=lastCandlesParam[lastCandlesParam[_0x20196e(0x13f)]-0x1]);let _0x3bd57d,_0x462199,_0x91c059,_0x3ca5df,_0x1bb50a,_0x3daf73;_0x329b7f&&Array['isArray'](_0x329b7f)&&_0x329b7f[_0x20196e(0x13f)]>0x0&&(_0x3bd57d=Number(_0x329b7f[0x1])['toFixed'](getDynamicDecimals(_0x329b7f[0x1])),_0x462199=Number(_0x329b7f[0x2])[_0x20196e(0x25c)](getDynamicDecimals(_0x329b7f[0x2])),_0x91c059=Number(_0x329b7f[0x3])['toFixed'](getDynamicDecimals(_0x329b7f[0x3])),_0x3ca5df=Number(_0x329b7f[0x4])[_0x20196e(0x25c)](getDynamicDecimals(_0x329b7f[0x4])),_0x1bb50a=Number(_0x329b7f[0x5])[_0x20196e(0x25c)](getDynamicDecimals(_0x329b7f[0x5])),_0x3daf73=Number(_0x329b7f[0x6])[_0x20196e(0x25c)](getDynamicDecimals(_0x329b7f[0x6])));_0x3daf73?_0x3ce6ac[_0x20196e(0x24c)]='<span\x20class=\x22legend-label\x22>OHLCVQ:</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22legend-value\x22\x20style=\x22color:\x20'+themeColors[_0x394f2b][_0x20196e(0x1d0)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20O:\x20'+(_0x3bd57d||_0x20196e(0x242))+_0x20196e(0x199)+(_0x462199||_0x20196e(0x242))+_0x20196e(0x1fc)+(_0x91c059||_0x20196e(0x242))+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20C:\x20'+(_0x3ca5df||_0x20196e(0x242))+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20V:\x20'+(_0x1bb50a||'N/A')+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Q:\x20'+(_0x3daf73||_0x20196e(0x242))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>':_0x3ce6ac[_0x20196e(0x24c)]=_0x20196e(0x1b8)+themeColors[_0x394f2b][_0x20196e(0x1d0)]+_0x20196e(0x221)+(_0x3bd57d||_0x20196e(0x242))+_0x20196e(0x199)+(_0x462199||_0x20196e(0x242))+_0x20196e(0x1fc)+(_0x91c059||'N/A')+_0x20196e(0x1a3)+(_0x3ca5df||_0x20196e(0x242))+_0x20196e(0x25e)+(_0x1bb50a||_0x20196e(0x242))+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>';const _0x4f5e06=_0x370e3c=>{const _0x38dfea=_0x20196e;if(!_0x370e3c)return _0x38dfea(0x242);const _0x12cdf6=_0x370e3c[_0x38dfea(0x209)]();if(!_0x12cdf6||!Array['isArray'](_0x12cdf6)||_0x12cdf6[_0x38dfea(0x13f)]===0x0)return _0x38dfea(0x242);const _0xf00f19=_0x12cdf6[_0x38dfea(0x14c)]()[_0x38dfea(0x20e)]()[_0x38dfea(0x151)](_0x433f59=>_0x433f59[_0x38dfea(0x22d)]!==null&&!isNaN(_0x433f59[_0x38dfea(0x22d)]));return _0xf00f19?Number(_0xf00f19[_0x38dfea(0x22d)])['toFixed'](getDynamicDecimals(_0xf00f19[_0x38dfea(0x22d)])):_0x38dfea(0x242);},_0x3e2cdc=[{'name':'Chart\x20Patterns','items':[]},{'name':'Candle\x20Patterns','items':[]}];let _0x5ca721=lastSignalResult;_0x5ca721&&_0x5ca721[_0x20196e(0x168)]&&_0x5ca721[_0x20196e(0x168)][_0x20196e(0x1de)](_0x3eebde=>{const _0x989266=_0x20196e;if(_0x3eebde[_0x989266(0x19d)]!==0x0){const _0xfbe5ab=_0x3eebde['signal']>0x0?themeColors[_0x394f2b][_0x989266(0x202)][_0x989266(0x15a)]:themeColors[_0x394f2b][_0x989266(0x202)][_0x989266(0x18e)];_0x3e2cdc[0x0][_0x989266(0x181)][_0x989266(0x25a)](_0x989266(0x1c3)+_0xfbe5ab+_0x989266(0x231)+(_0x3eebde[_0x989266(0x179)]||_0x3eebde['name'])+(_0x3eebde['timeframe']?'\x20('+_0x3eebde[_0x989266(0x13c)]+')':'')+_0x989266(0x141));}}),_0x5ca721&&_0x5ca721[_0x20196e(0x19f)]&&_0x5ca721[_0x20196e(0x19f)][_0x20196e(0x1de)](_0x23e1ec=>{const _0x3bf644=_0x20196e;if(_0x23e1ec[_0x3bf644(0x19d)]!==0x0){const _0x3bdfae=_0x23e1ec[_0x3bf644(0x19d)]>0x0?themeColors[_0x394f2b][_0x3bf644(0x202)]['buy']:themeColors[_0x394f2b][_0x3bf644(0x202)][_0x3bf644(0x18e)];_0x3e2cdc[0x1]['items']['push'](_0x3bf644(0x1c3)+_0x3bdfae+_0x3bf644(0x231)+(_0x23e1ec[_0x3bf644(0x179)]||_0x23e1ec['name'])+(_0x23e1ec[_0x3bf644(0x13c)]?'\x20('+_0x23e1ec[_0x3bf644(0x13c)]+')':'')+_0x3bf644(0x141));}}),_0x59220b=_0x3e2cdc[_0x20196e(0x206)](_0x40a407=>_0x40a407[_0x20196e(0x181)]['length']>0x0)['map'](_0x222f96=>_0x20196e(0x1e7)+_0x222f96[_0x20196e(0x237)]+'</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x222f96[_0x20196e(0x181)]['join']('')+_0x20196e(0x16d))['join'](''),_0x268f85[_0x20196e(0x24c)]=_0x59220b,chartResizeHandler();}export function cleanupChart(){const _0x4a8076=_0xcd3054;if(upperChart)try{upperChart[_0x4a8076(0x1d3)]()[_0x4a8076(0x1d2)](syncUpperToLower),upperChart[_0x4a8076(0x1d6)]();}catch(_0x2628dc){console[_0x4a8076(0x1b9)](_0x4a8076(0x1e4),_0x2628dc);}if(lowerChart)try{lowerChart[_0x4a8076(0x1d3)]()[_0x4a8076(0x1d2)](syncLowerToUpper),lowerChart[_0x4a8076(0x1d6)]();}catch(_0xee6b1){console[_0x4a8076(0x1b9)](_0x4a8076(0x1fa),_0xee6b1);}const _0x18bf8a=document[_0x4a8076(0x1e0)](_0x4a8076(0x225));_0x18bf8a&&(_0x18bf8a[_0x4a8076(0x18d)][_0x4a8076(0x249)]=_0x4a8076(0x1b2)),upperChart=null,lowerChart=null,candlestickSeries=null,higherTimeframeSeries=null,upperIndicatorSeries={},lowerIndicatorSeries={},priceLines={},patternSeries={},chartData=null,htfChartData=null,candles=null,lastCandlesParam=[],lastPriceLevelsParam=[],lastSignalResult={},lastHtfSignalResult={},lastIsRealTimeUpdate=![],lastHtfCandlesParam=[],signalMarker=null,htfSignalMarker=null,lastSignalMarkerIndex=-0x1,lastHtfSignalMarkerIndex=-0x1,fitContentActive=![],autoScrollActive=![],syncTimeScaleActive=!![],previousUpperTimeRange=null,previousLowerTimeRange=null;}