(function(_0xa6afbf,_0x32c59a){const _0x1ed0b8=_0x7c97,_0x4e84ee=_0xa6afbf();while(!![]){try{const _0x2a3a68=parseInt(_0x1ed0b8(0x86))/0x1*(parseInt(_0x1ed0b8(0xc6))/0x2)+-parseInt(_0x1ed0b8(0xc3))/0x3*(parseInt(_0x1ed0b8(0xa1))/0x4)+parseInt(_0x1ed0b8(0xc2))/0x5*(parseInt(_0x1ed0b8(0xe5))/0x6)+parseInt(_0x1ed0b8(0xc0))/0x7+parseInt(_0x1ed0b8(0xcc))/0x8*(parseInt(_0x1ed0b8(0xdf))/0x9)+-parseInt(_0x1ed0b8(0xed))/0xa+parseInt(_0x1ed0b8(0xe6))/0xb*(-parseInt(_0x1ed0b8(0x87))/0xc);if(_0x2a3a68===_0x32c59a)break;else _0x4e84ee['push'](_0x4e84ee['shift']());}catch(_0x136ac4){_0x4e84ee['push'](_0x4e84ee['shift']());}}}(_0x26d9,0x951d4));const _0xa1efd=(function(){let _0x522b09=!![];return function(_0x40059c,_0x103336){const _0x8b9901=_0x522b09?function(){const _0x558877=_0x7c97;if(_0x103336){const _0x8199b7=_0x103336[_0x558877(0xa9)](_0x40059c,arguments);return _0x103336=null,_0x8199b7;}}:function(){};return _0x522b09=![],_0x8b9901;};}()),_0x475460=_0xa1efd(this,function(){const _0x5876f3=_0x7c97,_0x19a06f=function(){const _0xaab151=_0x7c97;let _0x517482;try{_0x517482=Function(_0xaab151(0xe9)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x48e0d6){_0x517482=window;}return _0x517482;},_0x12bab8=_0x19a06f(),_0x1c79f1=_0x12bab8[_0x5876f3(0xb2)]=_0x12bab8[_0x5876f3(0xb2)]||{},_0x26a8fd=[_0x5876f3(0xdd),_0x5876f3(0xc4),_0x5876f3(0x9f),_0x5876f3(0xcf),_0x5876f3(0xb1),_0x5876f3(0xb4),_0x5876f3(0xbb)];for(let _0x5de56f=0x0;_0x5de56f<_0x26a8fd[_0x5876f3(0xb3)];_0x5de56f++){const _0x331aa3=_0xa1efd[_0x5876f3(0x99)][_0x5876f3(0x8d)][_0x5876f3(0x93)](_0xa1efd),_0xb00b4e=_0x26a8fd[_0x5de56f],_0x5b9efe=_0x1c79f1[_0xb00b4e]||_0x331aa3;_0x331aa3['__proto__']=_0xa1efd['bind'](_0xa1efd),_0x331aa3[_0x5876f3(0xc9)]=_0x5b9efe[_0x5876f3(0xc9)][_0x5876f3(0x93)](_0x5b9efe),_0x1c79f1[_0xb00b4e]=_0x331aa3;}});_0x475460();function _0x7c97(_0x1b8686,_0x228f4f){const _0x5784cc=_0x26d9();return _0x7c97=function(_0x475460,_0xa1efd){_0x475460=_0x475460-0x86;let _0x49be11=_0x5784cc[_0x475460];return _0x49be11;},_0x7c97(_0x1b8686,_0x228f4f);}import{getIndicatorParams,updateStatus}from'./ui.js';import{getDynamicDecimals}from'./utils.js';import{onlyStrong,onlyRecent}from'./data.js';import{isPriceNearLevel}from'./signals.js';export let supportPrice;export let resistancePrice;export function calculateAverageVolume(_0x435db1,_0x25a9f0){const _0x52b21=_0x7c97;return _0x435db1[_0x52b21(0xd0)](-_0x25a9f0)[_0x52b21(0xb0)]((_0x1c7f40,_0x25c87c)=>_0x1c7f40+_0x25c87c,0x0)/_0x25a9f0;}export function calculateLinearRegressionSlope(_0x484a54,_0xfbd4f9){const _0x427032=_0x7c97,_0x5c5afb=Array['from']({'length':_0xfbd4f9},(_0x11ba05,_0x35c2be)=>_0x35c2be),_0x2996f9=_0x484a54['slice'](-_0xfbd4f9),_0x1fa777=_0xfbd4f9,_0x35c8d9=_0x5c5afb['reduce']((_0x22abe4,_0x589108)=>_0x22abe4+_0x589108,0x0),_0x5774ae=_0x2996f9[_0x427032(0xb0)]((_0x3659d8,_0x1dc32a)=>_0x3659d8+_0x1dc32a,0x0),_0x497cfd=_0x5c5afb[_0x427032(0xb0)]((_0x57dead,_0x47e27b,_0x23271f)=>_0x57dead+_0x47e27b*_0x2996f9[_0x23271f],0x0),_0x5d47c7=_0x5c5afb[_0x427032(0xb0)]((_0x3618fd,_0x6d6324)=>_0x3618fd+_0x6d6324*_0x6d6324,0x0),_0x49a59c=(_0x1fa777*_0x497cfd-_0x35c8d9*_0x5774ae)/(_0x1fa777*_0x5d47c7-_0x35c8d9*_0x35c8d9);return isFinite(_0x49a59c)?_0x49a59c:0x0;}function detectHeadAndShoulders(_0x32f0a1,_0x5545b2,_0x48aad9,_0x97ab8){const _0x47a8ba=_0x7c97;if(_0x5545b2[_0x47a8ba(0xb3)]<0x5)return null;let _0x1eb083=null;for(let _0x1553c0=_0x5545b2['length']-0x5;_0x1553c0>=0x0;_0x1553c0--){const _0x1ae6ed=_0x5545b2[_0x47a8ba(0xd0)](_0x1553c0,_0x1553c0+0x5),_0x31e20d=_0x1ae6ed['map'](_0x228e8c=>_0x228e8c[_0x47a8ba(0x8c)]);if(_0x31e20d[0x0]===_0x47a8ba(0xa8)&&_0x31e20d[0x1]===_0x47a8ba(0xa4)&&_0x31e20d[0x2]===_0x47a8ba(0xa8)&&_0x31e20d[0x3]===_0x47a8ba(0xa4)&&_0x31e20d[0x4]===_0x47a8ba(0xa8)){const [_0x226553,_0x431155,_0x828195,_0x2e574c,_0x13ab7b]=_0x1ae6ed,_0x4e829d=Math[_0x47a8ba(0xb6)](_0x828195[_0x47a8ba(0xeb)],_0x226553[_0x47a8ba(0xeb)],_0x13ab7b[_0x47a8ba(0xeb)])*0.02;if(_0x828195[_0x47a8ba(0xeb)]>_0x226553[_0x47a8ba(0xeb)]+_0x4e829d&&_0x828195['price']>_0x13ab7b[_0x47a8ba(0xeb)]+_0x4e829d&&Math[_0x47a8ba(0xad)](_0x226553[_0x47a8ba(0xeb)]-_0x13ab7b[_0x47a8ba(0xeb)])<_0x4e829d&&Math['abs'](_0x431155[_0x47a8ba(0xeb)]-_0x2e574c[_0x47a8ba(0xeb)])<_0x4e829d){const _0x2c03f9=(_0x2e574c[_0x47a8ba(0xeb)]-_0x431155[_0x47a8ba(0xeb)])/(_0x2e574c[_0x47a8ba(0xdc)]-_0x431155['index']);if(Math[_0x47a8ba(0xad)](_0x2c03f9)<0.05){const _0x3afbcf=_0x32f0a1[_0x32f0a1[_0x47a8ba(0xb3)]-0x1][0x4],_0x5c6b3f=Math[_0x47a8ba(0xc1)](_0x431155[_0x47a8ba(0xeb)],_0x2e574c[_0x47a8ba(0xeb)]);if(_0x3afbcf<_0x5c6b3f){const _0x450889=_0x13ab7b['index']>=_0x32f0a1[_0x47a8ba(0xb3)]-0xc;if(_0x450889){const _0x296e9b=calculateAverageVolume(_0x97ab8,0xa),_0x4983d2=_0x97ab8[_0x32f0a1[_0x47a8ba(0xb3)]-0x1];if(_0x4983d2>_0x296e9b*1.1){_0x1eb083={'name':'Head\x20and\x20Shoulders','signal':-0x1,'strength':0.95,'weight':_0x48aad9['chartPatterns'][_0x47a8ba(0xaf)]||6.6,'display':'Head\x20and\x20Shoulders:\x20Bearish\x20at\x20'+_0x828195[_0x47a8ba(0xeb)][_0x47a8ba(0xe8)](getDynamicDecimals(_0x828195[_0x47a8ba(0xeb)]))};break;}}}}}}}return _0x1eb083;}function detectInverseHeadAndShoulders(_0x4febe2,_0x640d9e,_0x8608a,_0x389c8c){const _0x43677c=_0x7c97;if(_0x640d9e[_0x43677c(0xb3)]<0x5)return null;let _0x3ea9e2=null;for(let _0xfe999=_0x640d9e[_0x43677c(0xb3)]-0x5;_0xfe999>=0x0;_0xfe999--){const _0xd2c875=_0x640d9e['slice'](_0xfe999,_0xfe999+0x5),_0x3cf496=_0xd2c875[_0x43677c(0xb8)](_0x52eb1d=>_0x52eb1d['type']);if(_0x3cf496[0x0]===_0x43677c(0xa4)&&_0x3cf496[0x1]===_0x43677c(0xa8)&&_0x3cf496[0x2]===_0x43677c(0xa4)&&_0x3cf496[0x3]===_0x43677c(0xa8)&&_0x3cf496[0x4]===_0x43677c(0xa4)){const [_0x1b3f8b,_0x1f0933,_0x52a1fe,_0xd421f2,_0x40fe7e]=_0xd2c875,_0x3f4244=Math[_0x43677c(0xb6)](_0x52a1fe['price'],_0x1b3f8b['price'],_0x40fe7e[_0x43677c(0xeb)])*0.02;if(_0x52a1fe[_0x43677c(0xeb)]<_0x1b3f8b[_0x43677c(0xeb)]-_0x3f4244&&_0x52a1fe[_0x43677c(0xeb)]<_0x40fe7e[_0x43677c(0xeb)]-_0x3f4244&&Math[_0x43677c(0xad)](_0x1b3f8b[_0x43677c(0xeb)]-_0x40fe7e[_0x43677c(0xeb)])<_0x3f4244&&Math[_0x43677c(0xad)](_0x1f0933[_0x43677c(0xeb)]-_0xd421f2[_0x43677c(0xeb)])<_0x3f4244){const _0x461bc5=(_0xd421f2[_0x43677c(0xeb)]-_0x1f0933[_0x43677c(0xeb)])/(_0xd421f2['index']-_0x1f0933['index']);if(Math[_0x43677c(0xad)](_0x461bc5)<0.05){const _0x4d5631=_0x4febe2[_0x4febe2['length']-0x1][0x4],_0x24d73c=Math['max'](_0x1f0933['price'],_0xd421f2[_0x43677c(0xeb)]);if(_0x4d5631>_0x24d73c){const _0x115017=_0x40fe7e[_0x43677c(0xdc)]>=_0x4febe2[_0x43677c(0xb3)]-0xc;if(_0x115017){const _0x903c18=calculateAverageVolume(_0x389c8c,0xa),_0x47dc8c=_0x389c8c[_0x4febe2[_0x43677c(0xb3)]-0x1];if(_0x47dc8c>_0x903c18*1.1){_0x3ea9e2={'name':_0x43677c(0x9c),'signal':0x1,'strength':0.95,'weight':_0x8608a[_0x43677c(0xa2)][_0x43677c(0xa0)]||6.6,'display':_0x43677c(0xc5)+_0x52a1fe[_0x43677c(0xeb)][_0x43677c(0xe8)](getDynamicDecimals(_0x52a1fe[_0x43677c(0xeb)]))};break;}}}}}}}return _0x3ea9e2;}function detectTriangle(_0x4a46d6,_0x1ab41f,_0x3f689a,_0x5a2a86){const _0x590aab=_0x7c97;if(_0x1ab41f['length']<0x7)return null;let _0x5015fb=null;for(let _0x3d169e=_0x1ab41f[_0x590aab(0xb3)]-0x6;_0x3d169e>=0x0;_0x3d169e--){const _0x145dbb=_0x1ab41f[_0x590aab(0xd0)](_0x3d169e,_0x3d169e+0x6),_0x6bc414=_0x145dbb[_0x590aab(0x90)](_0x3e240e=>_0x3e240e[_0x590aab(0x8c)]==='high'),_0x56294d=_0x145dbb['filter'](_0x18f1f4=>_0x18f1f4['type']==='low');if(_0x6bc414[_0x590aab(0xb3)]<0x3||_0x56294d[_0x590aab(0xb3)]<0x3)continue;const _0x4b3230=_0x6bc414[_0x590aab(0xd0)](-0x3)[_0x590aab(0xb8)](_0x7d1f87=>_0x7d1f87[_0x590aab(0xeb)]),_0x239beb=_0x56294d[_0x590aab(0xd0)](-0x3)[_0x590aab(0xb8)](_0x4070ca=>_0x4070ca[_0x590aab(0xeb)]),_0x1af8d6=calculateLinearRegressionSlope(_0x4b3230,0x3),_0x4a149b=calculateLinearRegressionSlope(_0x239beb,0x3),_0x3fb7a0=_0x4a46d6[_0x4a46d6[_0x590aab(0xb3)]-0x1][0x4],_0x12c78c=_0x145dbb[0x5][_0x590aab(0xdc)]>=_0x4a46d6['length']-0xa;let _0x5b59a4=![],_0x5e0442=0x0,_0x507f31='',_0x47031f='';if(_0x5a2a86===_0x590aab(0xec)&&_0x1af8d6<0.02&&_0x4a149b>0.02)_0x5b59a4=_0x3fb7a0>Math['max'](..._0x4b3230),_0x5e0442=0x1,_0x507f31='Ascending\x20Triangle',_0x47031f=_0x590aab(0xa5);else{if(_0x5a2a86==='descending'&&_0x1af8d6<-0.02&&_0x4a149b>-0.02)_0x5b59a4=_0x3fb7a0<Math[_0x590aab(0xc1)](..._0x239beb),_0x5e0442=-0x1,_0x507f31=_0x590aab(0x9d),_0x47031f=_0x590aab(0xc7);else _0x5a2a86===_0x590aab(0xca)&&Math[_0x590aab(0xad)](_0x1af8d6)>0.01&&Math[_0x590aab(0xad)](_0x4a149b)>0.01&&Math[_0x590aab(0xa7)](_0x1af8d6)!==Math[_0x590aab(0xa7)](_0x4a149b)&&(_0x5b59a4=_0x3fb7a0>Math['max'](..._0x4b3230)||_0x3fb7a0<Math['min'](..._0x239beb),_0x5e0442=_0x3fb7a0>Math[_0x590aab(0xb6)](..._0x4b3230)?0x1:-0x1,_0x507f31=_0x590aab(0xb5)+(_0x5e0442>0x0?'Bullish':_0x590aab(0xa3))+')',_0x47031f=_0x590aab(0x97)+(_0x5e0442>0x0?'Bullish':'Bearish'));}if(_0x5b59a4&&_0x12c78c){const _0xd17222=calculateAverageVolume(_0x4a46d6[_0x590aab(0xb8)](_0x2dc755=>_0x2dc755[0x5]),0xa);if(_0x4a46d6[_0x4a46d6['length']-0x1][0x5]>_0xd17222*1.05){_0x5015fb={'name':_0x507f31,'signal':_0x5e0442,'strength':0.9,'weight':_0x3f689a[_0x590aab(0xa2)][_0x5a2a86===_0x590aab(0xec)?_0x590aab(0xbd):_0x5a2a86===_0x590aab(0xd9)?_0x590aab(0x88):'symmetricalTriangle'+(_0x5e0442>0x0?'Bullish':'Bearish')]||5.9,'display':_0x47031f};break;}}}return _0x5015fb;}function detectDoubleTopBottom(_0x30f7f4,_0x45a31f,_0xadaf63,_0x3c1bf9){const _0x30a3a4=_0x7c97;if(_0x45a31f['length']<0x5)return null;let _0x12dd57=null;const _0x59cf55=atr(_0x30f7f4[_0x30a3a4(0xb8)](_0x2a2fda=>[_0x2a2fda[0x1],_0x2a2fda[0x2],_0x2a2fda[0x3]]),0xe),_0x576c7c=_0x59cf55[_0x59cf55['length']-0x1]*0.75;for(let _0x4b57bb=_0x45a31f['length']-0x5;_0x4b57bb>=0x0;_0x4b57bb--){const _0x160b35=_0x45a31f[_0x30a3a4(0xd0)](_0x4b57bb,_0x4b57bb+0x5);if(_0x3c1bf9===_0x30a3a4(0xea)){if(_0x160b35[0x0][_0x30a3a4(0x8c)]===_0x30a3a4(0xa8)&&_0x160b35[0x1]['type']===_0x30a3a4(0xa4)&&_0x160b35[0x2][_0x30a3a4(0x8c)]===_0x30a3a4(0xa8)){if(Math[_0x30a3a4(0xad)](_0x160b35[0x0][_0x30a3a4(0xeb)]-_0x160b35[0x2][_0x30a3a4(0xeb)])<_0x576c7c){const _0xbb3c81=_0x30f7f4[_0x30f7f4[_0x30a3a4(0xb3)]-0x1][0x4]<_0x160b35[0x1]['price'],_0x4a4261=_0x160b35[0x2][_0x30a3a4(0xdc)]>=_0x30f7f4[_0x30a3a4(0xb3)]-0x8;if(_0xbb3c81&&_0x4a4261){const _0x576e9b=calculateAverageVolume(_0x30f7f4['map'](_0x1e6799=>_0x1e6799[0x5]),0xa),_0x33535b=_0x30f7f4[_0x30f7f4[_0x30a3a4(0xb3)]-0x1][0x5];if(_0x33535b>_0x576e9b*1.1){_0x12dd57={'name':'Double\x20Top','signal':-0x1,'strength':0.95,'weight':_0xadaf63[_0x30a3a4(0xa2)]['doubleTop']||6.6,'display':'Double\x20Top:\x20Bearish\x20at\x20'+_0x160b35[0x0][_0x30a3a4(0xeb)][_0x30a3a4(0xe8)](getDynamicDecimals(_0x160b35[0x0][_0x30a3a4(0xeb)]))};break;}}}}}else{if(_0x3c1bf9===_0x30a3a4(0xae)){if(_0x160b35[0x0][_0x30a3a4(0x8c)]===_0x30a3a4(0xa4)&&_0x160b35[0x1][_0x30a3a4(0x8c)]===_0x30a3a4(0xa8)&&_0x160b35[0x2][_0x30a3a4(0x8c)]===_0x30a3a4(0xa4)){if(Math[_0x30a3a4(0xad)](_0x160b35[0x0]['price']-_0x160b35[0x2]['price'])<_0x576c7c){const _0x314ff3=_0x30f7f4[_0x30f7f4[_0x30a3a4(0xb3)]-0x1][0x4]>_0x160b35[0x1][_0x30a3a4(0xeb)],_0x354805=_0x160b35[0x2][_0x30a3a4(0xdc)]>=_0x30f7f4[_0x30a3a4(0xb3)]-0x8;if(_0x314ff3&&_0x354805){const _0x2edebc=calculateAverageVolume(_0x30f7f4['map'](_0x4f162d=>_0x4f162d[0x5]),0xa),_0x22cc14=_0x30f7f4[_0x30f7f4['length']-0x1][0x5];if(_0x22cc14>_0x2edebc*1.1){_0x12dd57={'name':_0x30a3a4(0x96),'signal':0x1,'strength':0.95,'weight':_0xadaf63['chartPatterns']['doubleBottom']||6.6,'display':'Double\x20Bottom:\x20Bullish\x20at\x20'+_0x160b35[0x0][_0x30a3a4(0xeb)][_0x30a3a4(0xe8)](getDynamicDecimals(_0x160b35[0x0][_0x30a3a4(0xeb)]))};break;}}}}}}}return _0x12dd57;}function detectRallyBaseRally(_0x50c856,_0x6e9afd,_0x48c705){const _0x609f61=_0x7c97,_0x9907e7=atr(_0x50c856['map'](_0x3d228c=>[_0x3d228c[0x1],_0x3d228c[0x2],_0x3d228c[0x3]]),_0x6e9afd[_0x609f61(0x8a)][_0x609f61(0x98)]?.[_0x609f61(0xc8)]||0xe),_0x53c7ff=0xa,_0x2c7514=0x3;let _0x8af368=null;for(let _0x21ffce=_0x50c856[_0x609f61(0xb3)]-_0x2c7514-0x1;_0x21ffce>=_0x53c7ff+_0x2c7514;_0x21ffce--){const _0x38c970=_0x50c856[_0x21ffce-_0x2c7514][0x4]>_0x50c856[_0x21ffce-_0x2c7514-_0x53c7ff][0x4]*1.03;if(!_0x38c970)continue;const _0x4d1fe8=_0x50c856[_0x609f61(0xd0)](_0x21ffce-_0x2c7514,_0x21ffce),_0x7dc6a5=Math['max'](..._0x4d1fe8['map'](_0x361a6b=>_0x361a6b[0x2])),_0x4a7895=Math[_0x609f61(0xc1)](..._0x4d1fe8['map'](_0x3b94ef=>_0x3b94ef[0x3])),_0x239798=_0x7dc6a5-_0x4a7895<_0x9907e7[_0x21ffce-0x1]*0.75;if(!_0x239798)continue;const _0xd44ac9=_0x50c856[_0x21ffce],_0x2381a4=calculateAverageVolume(_0x48c705,0x14),_0x177635=_0xd44ac9[0x4]>_0x7dc6a5&&_0x48c705[_0x21ffce]>_0x2381a4*1.1;if(_0x177635&&_0x21ffce>=_0x50c856[_0x609f61(0xb3)]-0x5){_0x8af368={'name':'Rally\x20Base\x20Rally','signal':0x1,'strength':0.9,'weight':_0x6e9afd[_0x609f61(0xa2)][_0x609f61(0xe1)]||5.5,'display':'Rally\x20Base\x20Rally\x20(Demand):\x20'+_0x4a7895[_0x609f61(0xe8)](0x2)+_0x609f61(0xe0)+_0x7dc6a5[_0x609f61(0xe8)](0x2)};break;}}return _0x8af368;}function detectDropBaseDrop(_0x5f3d48,_0x585761,_0x512426){const _0x480a8b=_0x7c97,_0x331cdf=atr(_0x5f3d48[_0x480a8b(0xb8)](_0x2090a1=>[_0x2090a1[0x1],_0x2090a1[0x2],_0x2090a1[0x3]]),_0x585761['indicatorParams'][_0x480a8b(0x98)]?.[_0x480a8b(0xc8)]||0xe),_0x50db3d=0xa,_0x4de95f=0x3;let _0x19bc5e=null;for(let _0x4239d3=_0x5f3d48[_0x480a8b(0xb3)]-_0x4de95f-0x1;_0x4239d3>=_0x50db3d+_0x4de95f;_0x4239d3--){const _0x246829=_0x5f3d48[_0x4239d3-_0x4de95f][0x4]<_0x5f3d48[_0x4239d3-_0x4de95f-_0x50db3d][0x4]*0.97;if(!_0x246829)continue;const _0x5148b6=_0x5f3d48[_0x480a8b(0xd0)](_0x4239d3-_0x4de95f,_0x4239d3),_0x597060=Math[_0x480a8b(0xb6)](..._0x5148b6['map'](_0xdd0abe=>_0xdd0abe[0x2])),_0x31a6c1=Math[_0x480a8b(0xc1)](..._0x5148b6[_0x480a8b(0xb8)](_0x3536c2=>_0x3536c2[0x3])),_0x33f436=_0x597060-_0x31a6c1<_0x331cdf[_0x4239d3-0x1]*0.75;if(!_0x33f436)continue;const _0x26326d=_0x5f3d48[_0x4239d3],_0x5ad7d4=calculateAverageVolume(_0x512426,0x14),_0x52204f=_0x26326d[0x4]<_0x31a6c1&&_0x512426[_0x4239d3]>_0x5ad7d4*1.1;if(_0x52204f&&_0x4239d3>=_0x5f3d48[_0x480a8b(0xb3)]-0x5){_0x19bc5e={'name':_0x480a8b(0xe4),'signal':-0x1,'strength':0.9,'weight':_0x585761[_0x480a8b(0xa2)][_0x480a8b(0xcd)]||5.5,'display':_0x480a8b(0xde)+_0x31a6c1[_0x480a8b(0xe8)](0x2)+_0x480a8b(0xe0)+_0x597060[_0x480a8b(0xe8)](0x2)};break;}}return _0x19bc5e;}function detectRallyBaseDrop(_0x23df8d,_0x2fad8b,_0x74241d){const _0x5c53aa=_0x7c97,_0x171d4a=atr(_0x23df8d['map'](_0x1eb993=>[_0x1eb993[0x1],_0x1eb993[0x2],_0x1eb993[0x3]]),_0x2fad8b[_0x5c53aa(0x8a)][_0x5c53aa(0x98)]?.[_0x5c53aa(0xc8)]||0xe),_0x39be0f=0xa,_0x1ca021=0x3;let _0x2cbd05=null;for(let _0x50f2d0=_0x23df8d[_0x5c53aa(0xb3)]-_0x1ca021-0x1;_0x50f2d0>=_0x39be0f+_0x1ca021;_0x50f2d0--){const _0x111cdd=_0x23df8d[_0x50f2d0-_0x1ca021][0x4]>_0x23df8d[_0x50f2d0-_0x1ca021-_0x39be0f][0x4]*1.03;if(!_0x111cdd)continue;const _0x510eeb=_0x23df8d[_0x5c53aa(0xd0)](_0x50f2d0-_0x1ca021,_0x50f2d0),_0xcc201b=Math[_0x5c53aa(0xb6)](..._0x510eeb[_0x5c53aa(0xb8)](_0x22c65b=>_0x22c65b[0x2])),_0x37f6f8=Math[_0x5c53aa(0xc1)](..._0x510eeb[_0x5c53aa(0xb8)](_0x4a1e2b=>_0x4a1e2b[0x3])),_0x132a6e=_0xcc201b-_0x37f6f8<_0x171d4a[_0x50f2d0-0x1]*0.75;if(!_0x132a6e)continue;const _0x4dc6c7=_0x23df8d[_0x50f2d0],_0x411c86=calculateAverageVolume(_0x74241d,0x14),_0x12a981=_0x4dc6c7[0x4]<_0x37f6f8&&_0x74241d[_0x50f2d0]>_0x411c86*1.1;if(_0x12a981&&_0x50f2d0>=_0x23df8d[_0x5c53aa(0xb3)]-0x5){_0x2cbd05={'name':_0x5c53aa(0x9e),'signal':-0x1,'strength':0.95,'weight':_0x2fad8b[_0x5c53aa(0xa2)][_0x5c53aa(0xdb)]||0x6,'display':_0x5c53aa(0xd4)+_0x37f6f8[_0x5c53aa(0xe8)](0x2)+_0x5c53aa(0xe0)+_0xcc201b[_0x5c53aa(0xe8)](0x2)};break;}}return _0x2cbd05;}function _0x26d9(){const _0x52fb01=['Drop\x20Base\x20Rally','ascendingTriangle','dropBaseRally','Insufficient\x20candle\x20data\x20for\x20chart\x20pattern\x20detection','3579716sBtKIa','min','89970fFCpRr','286449FnbbgO','warn','Inverse\x20Head\x20and\x20Shoulders:\x20Bullish\x20at\x20','2TWwzRa','Descending\x20Triangle:\x20Bearish\x20breakout','period','toString','symmetrical','Support\x20price\x20>\x20resistance\x20price,\x20using\x20fallback\x20min/max','26408HnEyAd','dropBaseDrop','enabled','error','slice','deviation','Support','value','Rally\x20Base\x20Drop\x20(Supply):\x20','risingWedge','multiplier','priceLevelParams','fibbands','descending','Error\x20detecting\x20chart\x20patterns:','rallyBaseDrop','index','log','Drop\x20Base\x20Drop\x20(Supply):\x20','2547GfeDJp','\x20-\x20','rallyBaseRally','envelope','push','Drop\x20Base\x20Drop','216CtqiyR','3201OLBYnQ','Rising\x20Wedge','toFixed','return\x20(function()\x20','top','price','ascending','2388560tyOmMJ','537799vaPCnu','38028hCvCbW','descendingTriangle','resistance','indicatorParams','Insufficient\x20data\x20for\x20support\x20and\x20resistance\x20lookback\x20period\x20','type','prototype','Falling\x20Wedge:\x20Bullish\x20at\x20','Drop\x20Base\x20Rally\x20(Demand):\x20','filter','Invalid\x20support\x20or\x20resistance\x20values:','number','bind','strength','zigzag','Double\x20Bottom','Symmetrical\x20Triangle\x20Breakout:\x20','atr','constructor','Falling\x20Wedge','Trend\x20strength\x20candles\x20out\x20of\x20range\x20(2-10),\x20using\x20default\x204','Inverse\x20Head\x20and\x20Shoulders','Descending\x20Triangle','Rally\x20Base\x20Drop','info','inverseHeadShoulders','36DWjweo','chartPatterns','Bearish','low','Ascending\x20Triangle:\x20Bullish\x20breakout','fallingWedge','sign','high','apply','trend-strength-candles','Resistance:\x20Price\x20near\x20','message','abs','bottom','headShoulders','reduce','exception','console','length','table','Symmetrical\x20Triangle\x20Breakout\x20(','max','calculate','map','N/A','Rising\x20Wedge:\x20Bearish\x20at\x20','trace'];_0x26d9=function(){return _0x52fb01;};return _0x26d9();}function detectDropBaseRally(_0x87385,_0x246ae5,_0x4f1f60){const _0x233448=_0x7c97,_0x4e4611=atr(_0x87385[_0x233448(0xb8)](_0x3df5d9=>[_0x3df5d9[0x1],_0x3df5d9[0x2],_0x3df5d9[0x3]]),_0x246ae5[_0x233448(0x8a)][_0x233448(0x98)]?.[_0x233448(0xc8)]||0xe),_0x2e9429=0xa,_0x18710e=0x3;let _0x443acb=null;for(let _0x3ed69e=_0x87385[_0x233448(0xb3)]-_0x18710e-0x1;_0x3ed69e>=_0x2e9429+_0x18710e;_0x3ed69e--){const _0x2b2e06=_0x87385[_0x3ed69e-_0x18710e][0x4]<_0x87385[_0x3ed69e-_0x18710e-_0x2e9429][0x4]*0.97;if(!_0x2b2e06)continue;const _0x22fcfe=_0x87385[_0x233448(0xd0)](_0x3ed69e-_0x18710e,_0x3ed69e),_0x2e9d6b=Math['max'](..._0x22fcfe[_0x233448(0xb8)](_0x116b6f=>_0x116b6f[0x2])),_0x41eb64=Math[_0x233448(0xc1)](..._0x22fcfe['map'](_0x628eb0=>_0x628eb0[0x3])),_0x19630f=_0x2e9d6b-_0x41eb64<_0x4e4611[_0x3ed69e-0x1]*0.75;if(!_0x19630f)continue;const _0x269114=_0x87385[_0x3ed69e],_0x354046=calculateAverageVolume(_0x4f1f60,0x14),_0x5e0f61=_0x269114[0x4]>_0x2e9d6b&&_0x4f1f60[_0x3ed69e]>_0x354046*1.1;if(_0x5e0f61&&_0x3ed69e>=_0x87385['length']-0x5){_0x443acb={'name':_0x233448(0xbc),'signal':0x1,'strength':0.95,'weight':_0x246ae5['chartPatterns'][_0x233448(0xbe)]||0x6,'display':_0x233448(0x8f)+_0x41eb64['toFixed'](0x2)+_0x233448(0xe0)+_0x2e9d6b[_0x233448(0xe8)](0x2)};break;}}return _0x443acb;}function detectRisingWedge(_0x3d0e64,_0xc549e1,_0x3c9bec,_0x30a1bc){const _0x1f5450=_0x7c97;if(_0xc549e1[_0x1f5450(0xb3)]<0x5)return null;let _0x4fbcff=null;for(let _0x47e33a=_0xc549e1[_0x1f5450(0xb3)]-0x5;_0x47e33a>=0x0;_0x47e33a--){const _0x5f0686=_0xc549e1['slice'](_0x47e33a,_0x47e33a+0x5),_0x5bc3d3=_0x5f0686[_0x1f5450(0xb8)](_0x86af9d=>_0x86af9d[_0x1f5450(0x8c)]);if(_0x5bc3d3[0x0]===_0x1f5450(0xa8)&&_0x5bc3d3[0x1]===_0x1f5450(0xa4)&&_0x5bc3d3[0x2]===_0x1f5450(0xa8)&&_0x5bc3d3[0x3]===_0x1f5450(0xa4)&&_0x5bc3d3[0x4]==='high'){const [_0x2274e2,_0x2e0f93,_0x3989ad,_0x46d1d7,_0x7fbbe]=_0x5f0686,_0x525bd0=[_0x2274e2['price'],_0x3989ad['price'],_0x7fbbe[_0x1f5450(0xeb)]],_0x762540=[_0x2e0f93['price'],_0x46d1d7[_0x1f5450(0xeb)]],_0x445731=calculateLinearRegressionSlope(_0x525bd0,0x3),_0x46cab0=calculateLinearRegressionSlope(_0x762540,0x2);if(_0x445731>0x0&&_0x46cab0>0x0&&_0x445731<_0x46cab0){const _0x89b229=_0x3d0e64[_0x3d0e64['length']-0x1][0x4],_0x4d5d0b=_0x7fbbe[_0x1f5450(0xdc)]>=_0x3d0e64[_0x1f5450(0xb3)]-0xc;if(_0x89b229<_0x46d1d7[_0x1f5450(0xeb)]&&_0x4d5d0b){const _0x6e157a=calculateAverageVolume(_0x30a1bc,0xa),_0x3d87e9=_0x30a1bc[_0x3d0e64[_0x1f5450(0xb3)]-0x1];if(_0x3d87e9>_0x6e157a*1.1){_0x4fbcff={'name':_0x1f5450(0xe7),'signal':-0x1,'strength':0.9,'weight':_0x3c9bec[_0x1f5450(0xa2)][_0x1f5450(0xd5)]||5.9,'display':_0x1f5450(0xba)+_0x7fbbe[_0x1f5450(0xeb)]['toFixed'](getDynamicDecimals(_0x7fbbe[_0x1f5450(0xeb)]))};break;}}}}}return _0x4fbcff;}function detectFallingWedge(_0x4bcb12,_0x5e4824,_0x5037aa,_0x4056da){const _0x260514=_0x7c97;if(_0x5e4824[_0x260514(0xb3)]<0x5)return null;let _0x5079ea=null;for(let _0x13dc92=_0x5e4824[_0x260514(0xb3)]-0x5;_0x13dc92>=0x0;_0x13dc92--){const _0x1ad031=_0x5e4824[_0x260514(0xd0)](_0x13dc92,_0x13dc92+0x5),_0x43b9ed=_0x1ad031[_0x260514(0xb8)](_0x213aec=>_0x213aec[_0x260514(0x8c)]);if(_0x43b9ed[0x0]===_0x260514(0xa4)&&_0x43b9ed[0x1]===_0x260514(0xa8)&&_0x43b9ed[0x2]===_0x260514(0xa4)&&_0x43b9ed[0x3]===_0x260514(0xa8)&&_0x43b9ed[0x4]===_0x260514(0xa4)){const [_0x5a8c66,_0x441519,_0xd2e0e,_0x45d834,_0x573218]=_0x1ad031,_0x375836=[_0x5a8c66[_0x260514(0xeb)],_0xd2e0e[_0x260514(0xeb)],_0x573218[_0x260514(0xeb)]],_0x4c2e01=[_0x441519[_0x260514(0xeb)],_0x45d834[_0x260514(0xeb)]],_0x3a5bdc=calculateLinearRegressionSlope(_0x375836,0x3),_0x40abf5=calculateLinearRegressionSlope(_0x4c2e01,0x2);if(_0x3a5bdc<0x0&&_0x40abf5<0x0&&_0x3a5bdc>_0x40abf5){const _0x5ac85a=_0x4bcb12[_0x4bcb12['length']-0x1][0x4],_0x46687f=_0x573218[_0x260514(0xdc)]>=_0x4bcb12[_0x260514(0xb3)]-0xc;if(_0x5ac85a>_0x45d834[_0x260514(0xeb)]&&_0x46687f){const _0x3d17ae=calculateAverageVolume(_0x4056da,0xa),_0x184a1f=_0x4056da[_0x4bcb12[_0x260514(0xb3)]-0x1];if(_0x184a1f>_0x3d17ae*1.1){_0x5079ea={'name':_0x260514(0x9a),'signal':0x1,'strength':0.9,'weight':_0x5037aa[_0x260514(0xa2)][_0x260514(0xa6)]||5.9,'display':_0x260514(0x8e)+_0x573218[_0x260514(0xeb)]['toFixed'](getDynamicDecimals(_0x573218[_0x260514(0xeb)]))};break;}}}}}return _0x5079ea;}function detectPatterns(_0x321d04,_0x5f5ab6,_0x4cabcf,_0x4fa770,_0x343338=0x1){const _0x1544b2=_0x7c97;let _0xd2b5b3=[],_0x219552=detectHeadAndShoulders(_0x321d04,_0x5f5ab6,_0x4cabcf,_0x4fa770);_0x219552&&(_0x219552[_0x1544b2(0x94)]*=_0x343338,_0xd2b5b3[_0x1544b2(0xe3)](_0x219552));let _0x580ffa=detectInverseHeadAndShoulders(_0x321d04,_0x5f5ab6,_0x4cabcf,_0x4fa770);_0x580ffa&&(_0x580ffa[_0x1544b2(0x94)]*=_0x343338,_0xd2b5b3[_0x1544b2(0xe3)](_0x580ffa));let _0x182b49=detectTriangle(_0x321d04,_0x5f5ab6,_0x4cabcf,_0x1544b2(0xec));_0x182b49&&(_0x182b49[_0x1544b2(0x94)]*=_0x343338,_0xd2b5b3['push'](_0x182b49));let _0x200b79=detectTriangle(_0x321d04,_0x5f5ab6,_0x4cabcf,_0x1544b2(0xd9));_0x200b79&&(_0x200b79[_0x1544b2(0x94)]*=_0x343338,_0xd2b5b3[_0x1544b2(0xe3)](_0x200b79));let _0x1f3bc4=detectTriangle(_0x321d04,_0x5f5ab6,_0x4cabcf,_0x1544b2(0xca));_0x1f3bc4&&(_0x1f3bc4[_0x1544b2(0x94)]*=_0x343338,_0xd2b5b3['push'](_0x1f3bc4));let _0x2351a4=detectDoubleTopBottom(_0x321d04,_0x5f5ab6,_0x4cabcf,_0x1544b2(0xea));_0x2351a4&&(_0x2351a4[_0x1544b2(0x94)]*=_0x343338,_0xd2b5b3[_0x1544b2(0xe3)](_0x2351a4));let _0x2f7592=detectDoubleTopBottom(_0x321d04,_0x5f5ab6,_0x4cabcf,_0x1544b2(0xae));_0x2f7592&&(_0x2f7592[_0x1544b2(0x94)]*=_0x343338,_0xd2b5b3['push'](_0x2f7592));let _0x52d912=detectRisingWedge(_0x321d04,_0x5f5ab6,_0x4cabcf,_0x4fa770);_0x52d912&&(_0x52d912[_0x1544b2(0x94)]*=_0x343338,_0xd2b5b3[_0x1544b2(0xe3)](_0x52d912));let _0x472198=detectFallingWedge(_0x321d04,_0x5f5ab6,_0x4cabcf,_0x4fa770);return _0x472198&&(_0x472198[_0x1544b2(0x94)]*=_0x343338,_0xd2b5b3['push'](_0x472198)),_0xd2b5b3;}export function detectChartPatterns(_0x5d9b14){const _0x1d6221=_0x7c97;if(!_0x5d9b14||_0x5d9b14[_0x1d6221(0xb3)]<0xa)return console['error'](_0x1d6221(0xbf)),supportPrice='N/A',resistancePrice=_0x1d6221(0xb9),[];let _0x4fcc56=[],_0x3decae=getIndicatorParams(),_0x3fa2f6=_0x5d9b14['map'](_0x166dce=>[Number(_0x166dce[0x1]),Number(_0x166dce[0x2]),Number(_0x166dce[0x3]),Number(_0x166dce[0x4]),Number(_0x166dce[0x5])]),_0x77be2b=_0x3fa2f6[_0x1d6221(0xb8)](_0x53ada1=>_0x53ada1[0x3]),_0x35e528=_0x3fa2f6[_0x1d6221(0xb8)](_0x30d89f=>_0x30d89f[0x1]),_0x5ca5aa=_0x3fa2f6[_0x1d6221(0xb8)](_0x3962a1=>_0x3962a1[0x2]),_0x24bc53=_0x3fa2f6['map'](_0x162148=>Number(_0x162148[0x4])),_0x2122a1=Math[_0x1d6221(0xc1)](_0x3decae[_0x1d6221(0xd7)]['supportResistanceLookback']||0x19,_0x5d9b14['length']),_0xa93d71=_0x77be2b[_0x1d6221(0xd0)](-_0x2122a1),_0x59b937=_0x35e528[_0x1d6221(0xd0)](-_0x2122a1),_0x43f3d8=_0x5ca5aa[_0x1d6221(0xd0)](-_0x2122a1),_0x33f8b4=_0x3decae[_0x1d6221(0x8a)][_0x1d6221(0x95)]?.[_0x1d6221(0xce)]?zigzag(_0x3fa2f6,_0x3decae['indicatorParams'][_0x1d6221(0x95)]?.[_0x1d6221(0xd1)]||0.05):[],_0x1dc0f8=_0x3decae[_0x1d6221(0x8a)]['don']?.['enabled']?don(_0x3fa2f6,_0x3decae['indicatorParams']['don']?.[_0x1d6221(0xc8)]||0x14):[],_0x661185=_0x3decae['indicatorParams']['fibbands']?.[_0x1d6221(0xce)]?fibbands(_0x3fa2f6,_0x3decae[_0x1d6221(0x8a)][_0x1d6221(0xd8)]?.[_0x1d6221(0xc8)]||0x14,_0x3decae['indicatorParams']['fibbands']?.[_0x1d6221(0xd6)]||0.3):[],_0x2c03b7=_0x3decae[_0x1d6221(0x8a)][_0x1d6221(0xe2)]?.['enabled']?envelope(_0x77be2b,_0x3decae[_0x1d6221(0x8a)][_0x1d6221(0xe2)]?.['period']||0xa,_0x3decae[_0x1d6221(0x8a)][_0x1d6221(0xe2)]?.['deviation']||0.005):[];try{if(_0xa93d71[_0x1d6221(0xb3)]<_0x2122a1)console['warn'](_0x1d6221(0x8b)+_0x2122a1+',\x20using\x20fallback'),supportPrice=_0xa93d71[_0x1d6221(0xb3)]>0x0?Number(Math[_0x1d6221(0xc1)](..._0xa93d71)):_0x1d6221(0xb9),resistancePrice=_0xa93d71[_0x1d6221(0xb3)]>0x0?Number(Math[_0x1d6221(0xb6)](..._0xa93d71)):_0x1d6221(0xb9);else try{onlyRecent&&(_0x2122a1=Math[_0x1d6221(0xc1)](_0x2122a1,0xa));let _0x2d6cb9=_0x3decae[_0x1d6221(0xd7)]['trendStrengthCandles']||0x4;(_0x2d6cb9<0x2||_0x2d6cb9>0xa)&&(console[_0x1d6221(0xc4)](_0x1d6221(0x9b)),updateStatus('Trend\x20strength\x20candles\x20out\x20of\x20range\x20(2-10),\x20using\x20default\x204',![]),document['getElementById'](_0x1d6221(0xaa))[_0x1d6221(0xd3)]=0x4);let _0x151168=newSupport(_0xa93d71,_0x2122a1,onlyRecent,onlyStrong,_0x2d6cb9);supportPrice=Number(_0x151168[_0x1d6221(0xb7)](_0xa93d71[_0x1d6221(0xb3)]-0x1));let _0x251b99=newResistance(_0xa93d71,_0x2122a1,onlyRecent,onlyStrong,_0x2d6cb9);resistancePrice=Number(_0x251b99['calculate'](_0xa93d71[_0x1d6221(0xb3)]-0x1)),(!isFinite(supportPrice)||!isFinite(resistancePrice))&&console[_0x1d6221(0xc4)](_0x1d6221(0x91),{'support':supportPrice,'resistance':resistancePrice}),typeof supportPrice==='number'&&typeof resistancePrice===_0x1d6221(0x92)&&supportPrice>resistancePrice&&(console[_0x1d6221(0xc4)](_0x1d6221(0xcb)),supportPrice=Number(Math['min'](..._0xa93d71)),resistancePrice=Number(Math[_0x1d6221(0xb6)](..._0xa93d71)));}catch(_0x39ed86){console['warn'](_0x39ed86[_0x1d6221(0xac)]);}let _0x3c8105=_0x3fa2f6[_0x1d6221(0xb8)](_0x7ff63d=>[_0x7ff63d[0x1],_0x7ff63d[0x2],_0x7ff63d[0x3]]),_0x2e8fb4=atr(_0x3c8105,_0x3decae[_0x1d6221(0x8a)]['atr']?.['period']||0xe),_0x191ce5=_0x2e8fb4[_0x2e8fb4[_0x1d6221(0xb3)]-0x1]||_0x1d6221(0xb9),_0x502c33=_0x77be2b[_0x77be2b[_0x1d6221(0xb3)]-0x1];typeof _0x502c33==='number'&&typeof supportPrice==='number'&&typeof _0x191ce5===_0x1d6221(0x92)&&isPriceNearLevel(_0x502c33,supportPrice,_0x191ce5*0.5)&&_0x4fcc56[_0x1d6221(0xe3)]({'name':_0x1d6221(0xd2),'signal':0x1,'strength':0.8,'weight':_0x3decae['chartPatterns']['support']||5.4,'display':'Support:\x20Price\x20near\x20'+supportPrice[_0x1d6221(0xe8)](getDynamicDecimals(supportPrice))});typeof _0x502c33===_0x1d6221(0x92)&&typeof resistancePrice==='number'&&typeof _0x191ce5===_0x1d6221(0x92)&&isPriceNearLevel(_0x502c33,resistancePrice,_0x191ce5*0.5)&&_0x4fcc56[_0x1d6221(0xe3)]({'name':'Resistance','signal':-0x1,'strength':0.8,'weight':_0x3decae[_0x1d6221(0xa2)][_0x1d6221(0x89)]||5.4,'display':_0x1d6221(0xab)+resistancePrice[_0x1d6221(0xe8)](getDynamicDecimals(resistancePrice))});let _0x465ef2=detectPatterns(_0x3fa2f6,_0x33f8b4,_0x3decae,_0x24bc53);_0x4fcc56[_0x1d6221(0xe3)](..._0x465ef2);}catch(_0x668f29){console[_0x1d6221(0xcf)](_0x1d6221(0xda),_0x668f29),supportPrice='N/A',resistancePrice='N/A';}return _0x4fcc56;}