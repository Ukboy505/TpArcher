function _0x13eb(){const _0x1a4e34=['console','support','Error\x20calculating\x20ATR:','Wait\x20Until\x20Buy','stop','1572EeCCgH','713240pECdeb','every','atr','1078146ddZltQ','min','Very\x20Weak\x20Buy','profitLoss','Sell','bind','mitigated','filter','map','44oMMTjI','resistance','period','log','9CEZSph','includes','signal','508206CoAyQC','Strong\x20Buy','error','strength','start','8Lpfutd','constructor','length','Order\x20Block','weight','return\x20(function()\x20','high','977781AZEySb','103051ViDqih','Strong\x20Sell','low','smcRr','entry','__proto__','forEach','toString','Moderate\x20Sell','Buy','Fair\x20Value\x20Gap','push','Very\x20Weak\x20Sell','Hold\x20Until\x20Sell','{}.constructor(\x22return\x20this\x22)(\x20)','name','profit','Support','Potential\x20Entry','Insufficient\x20candle\x20data\x20for\x20SMC\x20signal\x20generation','exception','15NdYfUo','SMC\x20Take\x20Profit','Weak\x20Buy','N/A','1gHlomX','SMC\x20Entry','stopLoss','Weak\x20Sell','entryPrice','SMC\x20Stop\x20Loss','toFixed','502408mPVrGm','warn','table','4241128ZUFKZc','zone','potentialEntry','abs','find'];_0x13eb=function(){return _0x1a4e34;};return _0x13eb();}(function(_0x54e327,_0x3f223c){const _0xa844b0=_0x435b,_0x22351a=_0x54e327();while(!![]){try{const _0x5d655d=-parseInt(_0xa844b0(0xb5))/0x1*(parseInt(_0xa844b0(0xbc))/0x2)+parseInt(_0xa844b0(0xdd))/0x3*(parseInt(_0xa844b0(0xe2))/0x4)+parseInt(_0xa844b0(0xb1))/0x5*(parseInt(_0xa844b0(0xcd))/0x6)+parseInt(_0xa844b0(0xe9))/0x7+parseInt(_0xa844b0(0xbf))/0x8*(parseInt(_0xa844b0(0xda))/0x9)+parseInt(_0xa844b0(0xca))/0xa*(parseInt(_0xa844b0(0xd6))/0xb)+-parseInt(_0xa844b0(0xc9))/0xc*(parseInt(_0xa844b0(0xea))/0xd);if(_0x5d655d===_0x3f223c)break;else _0x22351a['push'](_0x22351a['shift']());}catch(_0x4fb0a4){_0x22351a['push'](_0x22351a['shift']());}}}(_0x13eb,0x84a7c));const _0x8bb20e=(function(){let _0x41446c=!![];return function(_0x9cd30d,_0x43d7c9){const _0xa0e6d9=_0x41446c?function(){if(_0x43d7c9){const _0x9a3d22=_0x43d7c9['apply'](_0x9cd30d,arguments);return _0x43d7c9=null,_0x9a3d22;}}:function(){};return _0x41446c=![],_0xa0e6d9;};}()),_0x1c75e6=_0x8bb20e(this,function(){const _0x60dcec=_0x435b,_0x32bad2=function(){const _0x204adf=_0x435b;let _0x726086;try{_0x726086=Function(_0x204adf(0xe7)+_0x204adf(0xaa)+');')();}catch(_0x29fc81){_0x726086=window;}return _0x726086;},_0x10e382=_0x32bad2(),_0x4639bf=_0x10e382[_0x60dcec(0xc4)]=_0x10e382[_0x60dcec(0xc4)]||{},_0x9d5282=[_0x60dcec(0xd9),_0x60dcec(0xbd),'info',_0x60dcec(0xdf),_0x60dcec(0xb0),_0x60dcec(0xbe),'trace'];for(let _0x49ece2=0x0;_0x49ece2<_0x9d5282['length'];_0x49ece2++){const _0xfd46f4=_0x8bb20e[_0x60dcec(0xe3)]['prototype'][_0x60dcec(0xd2)](_0x8bb20e),_0x2f83ab=_0x9d5282[_0x49ece2],_0x2e790c=_0x4639bf[_0x2f83ab]||_0xfd46f4;_0xfd46f4[_0x60dcec(0xa1)]=_0x8bb20e[_0x60dcec(0xd2)](_0x8bb20e),_0xfd46f4[_0x60dcec(0xa3)]=_0x2e790c[_0x60dcec(0xa3)][_0x60dcec(0xd2)](_0x2e790c),_0x4639bf[_0x2f83ab]=_0xfd46f4;}});_0x1c75e6();import{getIndicatorParams}from'./ui.js';import{detectSMCPatterns}from'./chartpatterns-smc.js';import{getDynamicDecimals}from'./utils.js';export function generateSmcTradingSignal(_0x4f1917,_0x9a03b6=null){const _0x51a43c=_0x435b;if(!_0x4f1917||_0x4f1917[_0x51a43c(0xe4)]<0xa)return{'signal':_0x51a43c(0xaf),'confidence':0x0,'entryPrice':_0x51a43c(0xb4),'stopLoss':_0x51a43c(0xb4),'takeProfit':_0x51a43c(0xb4),'potentialEntry':_0x51a43c(0xb4),'indicators':[],'candlePatterns':[],'chartPatterns':[],'levels':[],'priceLevels':[],'compositeScore':0x0,'currentPrice':'N/A','supportPrice':_0x51a43c(0xb4),'resistancePrice':_0x51a43c(0xb4),'riskRewardRatio':_0x51a43c(0xb4),'profitLoss':null};const _0x30c9a1=getIndicatorParams(),_0x511a8d=detectSMCPatterns(_0x4f1917,_0x30c9a1,_0x9a03b6)||[];let _0x3cbd8c=0x0,_0x2363fa=0x0;_0x511a8d[_0x51a43c(0xa2)](_0x527b67=>{const _0x4e6ea2=_0x51a43c;_0x3cbd8c+=_0x527b67[_0x4e6ea2(0xe6)],_0x2363fa+=_0x527b67[_0x4e6ea2(0xdc)]*_0x527b67[_0x4e6ea2(0xe0)]*_0x527b67['weight'];});const _0x4cc12d=_0x3cbd8c?_0x2363fa/_0x3cbd8c:0x0,_0x5a3420=_0x4cc12d*0x64;let _0x10672e='Neutral';if(_0x5a3420>=0x46)_0x10672e=_0x51a43c(0xde);else{if(_0x5a3420>=0x32)_0x10672e='Moderate\x20Buy';else{if(_0x5a3420>=0x1e)_0x10672e=_0x51a43c(0xb3);else{if(_0x5a3420>=0xa)_0x10672e=_0x51a43c(0xcf);else{if(_0x5a3420<=-0x46)_0x10672e=_0x51a43c(0xeb);else{if(_0x5a3420<=-0x32)_0x10672e=_0x51a43c(0xa4);else{if(_0x5a3420<=-0x1e)_0x10672e=_0x51a43c(0xb8);else{if(_0x5a3420<=-0xa)_0x10672e=_0x51a43c(0xa8);else{if(_0x5a3420>0x28&&_0x5a3420<0x32)_0x10672e=_0x51a43c(0xa9);else{if(_0x5a3420<-0x28&&_0x5a3420>-0x32)_0x10672e=_0x51a43c(0xc7);}}}}}}}}}const _0x1acc00=Math[_0x51a43c(0xce)](0x63,Math[_0x51a43c(0xc2)](_0x5a3420)*1.5),_0xcc81b8=calculateSmcPriceLevels(_0x4f1917,_0x10672e,_0x30c9a1,_0x511a8d),_0xd5a2eb=Number(_0x4f1917[_0x4f1917[_0x51a43c(0xe4)]-0x1][0x4]);return{'signal':_0x10672e,'confidence':_0x1acc00,'entryPrice':_0xcc81b8[_0x51a43c(0xb9)],'stopLoss':_0xcc81b8[_0x51a43c(0xb7)],'takeProfit':_0xcc81b8['takeProfit'],'potentialEntry':_0xcc81b8['potentialEntry'],'indicators':[],'candlePatterns':[],'chartPatterns':_0x511a8d,'levels':_0xcc81b8['levels'],'priceLevels':_0xcc81b8['levels'],'compositeScore':_0x5a3420,'currentPrice':_0xd5a2eb,'supportPrice':_0xcc81b8['supportPrice'],'resistancePrice':_0xcc81b8['resistancePrice'],'riskRewardRatio':_0xcc81b8['riskRewardRatio'],'profitLoss':_0xcc81b8[_0x51a43c(0xd0)]};}function _0x435b(_0x9d32db,_0x548849){const _0x29b43f=_0x13eb();return _0x435b=function(_0x1c75e6,_0x8bb20e){_0x1c75e6=_0x1c75e6-0xa0;let _0x537a8e=_0x29b43f[_0x1c75e6];return _0x537a8e;},_0x435b(_0x9d32db,_0x548849);}export function calculateSmcPriceLevels(_0x189631,_0x26174d,_0x1fddb7,_0x2ddd07){const _0x23f5da=_0x435b,_0x1e9462=[];let _0x13cb83=_0x23f5da(0xb4),_0x53781e='N/A',_0x5ece66=_0x23f5da(0xb4),_0x48e865=_0x23f5da(0xb4),_0x159ca9=_0x23f5da(0xb4),_0x992dd7=null,_0x3ce4c8=_0x23f5da(0xb4),_0xd87939=_0x23f5da(0xb4);const _0x357d2f=Number(_0x189631[_0x189631[_0x23f5da(0xe4)]-0x1][0x4]),_0x180cde=_0x1fddb7['indicatorParams']?.[_0x23f5da(0xcc)]?.[_0x23f5da(0xd8)]||0xe;let _0x1c61b4=_0x23f5da(0xb4);try{const _0x3d5411=_0x189631[_0x23f5da(0xd5)](_0x500bcd=>[Number(_0x500bcd[0x1]),Number(_0x500bcd[0x2]),Number(_0x500bcd[0x3]),Number(_0x500bcd[0x4]),Number(_0x500bcd[0x5])])[_0x23f5da(0xd4)](_0xc5dd46=>_0xc5dd46[_0x23f5da(0xcb)](_0x206eeb=>isFinite(_0x206eeb)&&_0x206eeb>0x0)),_0x4b5707=atr(_0x3d5411,_0x180cde);_0x1c61b4=_0x4b5707[_0x4b5707[_0x23f5da(0xe4)]-0x1]||_0x23f5da(0xb4);}catch(_0x5af59b){console[_0x23f5da(0xdf)](_0x23f5da(0xc6),_0x5af59b);}const _0x11e439=_0x2ddd07[_0x23f5da(0xc3)](_0x1bc584=>_0x1bc584['name']===_0x23f5da(0xa6)&&!_0x1bc584[_0x23f5da(0xd3)]),_0x5465e7=_0x2ddd07[_0x23f5da(0xc3)](_0x59fca=>_0x59fca[_0x23f5da(0xab)]===_0x23f5da(0xe5)&&!_0x59fca[_0x23f5da(0xd3)]);_0x11e439&&(_0x3ce4c8=_0x11e439[_0x23f5da(0xdc)]===0x1?_0x11e439[_0x23f5da(0xe1)]:_0x23f5da(0xb4),_0xd87939=_0x11e439[_0x23f5da(0xdc)]===-0x1?_0x11e439['end']:_0x23f5da(0xb4));_0x5465e7&&(_0x3ce4c8=_0x5465e7['signal']===0x1?_0x5465e7['low']:_0x3ce4c8,_0xd87939=_0x5465e7[_0x23f5da(0xdc)]===-0x1?_0x5465e7['high']:_0xd87939);if(_0x26174d[_0x23f5da(0xdb)](_0x23f5da(0xa5))||_0x26174d[_0x23f5da(0xdb)]('Sell')){const _0x484cf0=_0x2ddd07['find'](_0x532978=>_0x532978[_0x23f5da(0xab)]===_0x23f5da(0xb6));if(_0x484cf0){const _0x257c2c=_0x484cf0['index'];_0x13cb83=Number(_0x189631[_0x257c2c][0x4])['toFixed'](getDynamicDecimals(_0x189631[_0x257c2c][0x4]));const _0x5a9896=_0x484cf0[_0x23f5da(0xc0)]||{};_0x53781e=_0x484cf0[_0x23f5da(0xdc)]>0x0?_0x5a9896[_0x23f5da(0xec)]??_0x5a9896['start']:_0x5a9896[_0x23f5da(0xe8)]??_0x5a9896['end'],_0x53781e=_0x53781e?Number(_0x53781e[_0x23f5da(0xbb)](getDynamicDecimals(_0x53781e))):_0x357d2f-_0x1c61b4*1.5;const _0xbe2afc=_0x1fddb7['priceLevelParams']?.[_0x23f5da(0xed)]||0x2;_0x5ece66=_0x484cf0['signal']>0x0?_0x13cb83+(_0x13cb83-_0x53781e)*_0xbe2afc:_0x13cb83-(_0x53781e-_0x13cb83)*_0xbe2afc,_0x5ece66=Number(_0x5ece66[_0x23f5da(0xbb)](getDynamicDecimals(_0x5ece66)));(!isFinite(_0x53781e)||_0x53781e<=0x0)&&(_0x53781e=_0x484cf0[_0x23f5da(0xdc)]>0x0?_0x357d2f-_0x1c61b4*1.5:_0x357d2f+_0x1c61b4*1.5,_0x53781e=Number(_0x53781e[_0x23f5da(0xbb)](getDynamicDecimals(_0x53781e))));(!isFinite(_0x5ece66)||_0x5ece66<=0x0)&&(_0x5ece66=_0x484cf0[_0x23f5da(0xdc)]>0x0?_0x357d2f+_0x1c61b4*0x2:_0x357d2f-_0x1c61b4*0x2,_0x5ece66=Number(_0x5ece66['toFixed'](getDynamicDecimals(_0x5ece66))));_0x13cb83!==_0x53781e&&isFinite(_0x13cb83)&&isFinite(_0x53781e)&&(_0x159ca9=Math[_0x23f5da(0xc2)]((_0x5ece66-_0x13cb83)/(_0x13cb83-_0x53781e))['toFixed'](0x2));const {feePercent:feePercent=0x0,tradeSize:tradeSize=0x3e8}=_0x1fddb7['priceLevelParams']||{},_0x4ce9ff=tradeSize/_0x13cb83,_0x13f62c=tradeSize*(feePercent/0x64),_0x13b474=_0x4ce9ff*_0x5ece66-tradeSize-0x2*_0x13f62c,_0x49a206=_0x4ce9ff*_0x53781e-tradeSize-0x2*_0x13f62c;_0x992dd7={'profit':isFinite(_0x13b474)?_0x13b474[_0x23f5da(0xbb)](0x2):_0x23f5da(0xb4),'loss':isFinite(_0x49a206)?_0x49a206['toFixed'](0x2):'N/A','profitPercent':isFinite(_0x13b474)?(_0x13b474/tradeSize*0x64)[_0x23f5da(0xbb)](0x2):_0x23f5da(0xb4),'lossPercent':isFinite(_0x49a206)?(_0x49a206/tradeSize*0x64)[_0x23f5da(0xbb)](0x2):_0x23f5da(0xb4),'tokensBought':isFinite(_0x4ce9ff)?_0x4ce9ff[_0x23f5da(0xbb)](0x6):_0x23f5da(0xb4)},_0x1e9462[_0x23f5da(0xa7)]({'name':_0x23f5da(0xb6),'value':_0x13cb83,'type':_0x23f5da(0xa0)}),_0x1e9462['push']({'name':_0x23f5da(0xba),'value':_0x53781e,'type':_0x23f5da(0xc8)}),_0x1e9462['push']({'name':_0x23f5da(0xb2),'value':_0x5ece66,'type':_0x23f5da(0xac)});}}return isFinite(_0x3ce4c8)&&_0x3ce4c8>0x0&&_0x1e9462['push']({'name':_0x23f5da(0xad),'value':_0x3ce4c8,'type':_0x23f5da(0xc5)}),isFinite(_0xd87939)&&_0xd87939>0x0&&_0x1e9462[_0x23f5da(0xa7)]({'name':'Resistance','value':_0xd87939,'type':_0x23f5da(0xd7)}),_0x26174d['includes'](_0x23f5da(0xd1))&&!_0x26174d[_0x23f5da(0xdb)](_0x23f5da(0xeb))&&(_0x48e865=_0x357d2f-_0x1c61b4*1.5,_0x48e865=Number(_0x48e865[_0x23f5da(0xbb)](getDynamicDecimals(_0x48e865))),_0x1e9462[_0x23f5da(0xa7)]({'name':_0x23f5da(0xae),'value':_0x48e865,'type':_0x23f5da(0xc1)})),{'levels':_0x1e9462,'entryPrice':_0x13cb83,'stopLoss':_0x53781e,'takeProfit':_0x5ece66,'potentialEntry':_0x48e865,'riskRewardRatio':_0x159ca9,'profitLoss':_0x992dd7,'supportPrice':_0x3ce4c8,'resistancePrice':_0xd87939};}