function _0x3e3c(_0x2aa824,_0x177017){const _0x1d620e=_0x3625();return _0x3e3c=function(_0x376d61,_0x3f6527){_0x376d61=_0x376d61-0xd5;let _0x20c0c=_0x1d620e[_0x376d61];return _0x20c0c;},_0x3e3c(_0x2aa824,_0x177017);}(function(_0x273485,_0x17d456){const _0x7478d5=_0x3e3c,_0x38c0a7=_0x273485();while(!![]){try{const _0x28aaf4=-parseInt(_0x7478d5(0xe9))/0x1+parseInt(_0x7478d5(0x113))/0x2*(-parseInt(_0x7478d5(0x10e))/0x3)+-parseInt(_0x7478d5(0xd5))/0x4+parseInt(_0x7478d5(0x101))/0x5+parseInt(_0x7478d5(0xe8))/0x6+-parseInt(_0x7478d5(0xf3))/0x7+parseInt(_0x7478d5(0x10d))/0x8;if(_0x28aaf4===_0x17d456)break;else _0x38c0a7['push'](_0x38c0a7['shift']());}catch(_0xe77bd3){_0x38c0a7['push'](_0x38c0a7['shift']());}}}(_0x3625,0x9fb5c));const _0x3f6527=(function(){let _0x31483d=!![];return function(_0x5756f9,_0x1890e6){const _0x513405=_0x31483d?function(){const _0x4327bc=_0x3e3c;if(_0x1890e6){const _0x210629=_0x1890e6[_0x4327bc(0xfe)](_0x5756f9,arguments);return _0x1890e6=null,_0x210629;}}:function(){};return _0x31483d=![],_0x513405;};}()),_0x376d61=_0x3f6527(this,function(){const _0x1ad432=_0x3e3c;let _0x1c87f6;try{const _0x313874=Function(_0x1ad432(0xe2)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x1c87f6=_0x313874();}catch(_0x2b79cc){_0x1c87f6=window;}const _0x4aaf86=_0x1c87f6[_0x1ad432(0xdb)]=_0x1c87f6[_0x1ad432(0xdb)]||{},_0x19c20c=[_0x1ad432(0x108),_0x1ad432(0x104),_0x1ad432(0x102),_0x1ad432(0xe0),_0x1ad432(0xed),_0x1ad432(0xec),_0x1ad432(0x110)];for(let _0x20c11e=0x0;_0x20c11e<_0x19c20c[_0x1ad432(0xea)];_0x20c11e++){const _0x621008=_0x3f6527[_0x1ad432(0x112)][_0x1ad432(0xe7)][_0x1ad432(0xfa)](_0x3f6527),_0x4f2f78=_0x19c20c[_0x20c11e],_0x1456fa=_0x4aaf86[_0x4f2f78]||_0x621008;_0x621008['__proto__']=_0x3f6527[_0x1ad432(0xfa)](_0x3f6527),_0x621008[_0x1ad432(0xf9)]=_0x1456fa[_0x1ad432(0xf9)][_0x1ad432(0xfa)](_0x1456fa),_0x4aaf86[_0x4f2f78]=_0x621008;}});_0x376d61();function _0x3625(){const _0x25b0bd=['signal','757075fCDFtT','info','high','warn','CHOCH\x20','SMC\x20Entry','type','log','bearish','\x20@\x20','end','close','21748840IrJIEm','7401JkVSKG','bullish','trace','abs','constructor','716HqDXTh','smcFVG','2558808ylQtzv','Change\x20of\x20Character','smcOB','max','start','mitigated','console','entryIndex','strength','push','fvgs','error','pop','return\x20(function()\x20','direction','orderBlocks','reduce','index','prototype','6401982OxMMft','984756PbWeUx','length','smcEntry','table','exception','volume','min','BOS\x20','slice','smcBOS','5426407eyIgyi','forEach','map','time','low','Order\x20Block','toString','bind','some','premium','open','apply','smcChartPatterns'];_0x3625=function(){return _0x25b0bd;};return _0x3625();}import{getDynamicDecimals}from'./utils.js';import{detectCandlestickPatterns}from'./candlestickpatterns.js';export function detectSMCPatterns(_0x4ced88,_0x59f4df,_0x1e74d8=null){const _0x11febd=_0x3e3c;if(!_0x4ced88||_0x4ced88[_0x11febd(0xea)]<0xa)return[];const _0x2a7b11=_0x4ced88[_0x11febd(0xf5)](_0x41120b=>({'time':+_0x41120b[0x0],'open':+_0x41120b[0x1],'high':+_0x41120b[0x2],'low':+_0x41120b[0x3],'close':+_0x41120b[0x4],'volume':+_0x41120b[0x5]}));let _0x3042e6=null;if(_0x1e74d8&&_0x1e74d8['length']>=0xa){const _0x240034=_0x1e74d8['map'](_0x1dc207=>({'high':+_0x1dc207[0x2],'low':+_0x1dc207[0x3]}));_0x3042e6=_0x568596(_0x240034,0x5);}function _0x5d8770(_0x5d85b8,_0x4a618b=0x5){const _0x375f00=_0x11febd,_0x5d8886=[];for(let _0x47fe65=_0x4a618b;_0x47fe65<_0x5d85b8[_0x375f00(0xea)]-_0x4a618b;_0x47fe65++){const _0x2b4980=_0x5d85b8[_0x375f00(0xf1)](_0x47fe65-_0x4a618b,_0x47fe65+_0x4a618b+0x1)[_0x375f00(0xf5)](_0x2ea511=>_0x2ea511[_0x375f00(0x103)]),_0xce8483=_0x5d85b8['slice'](_0x47fe65-_0x4a618b,_0x47fe65+_0x4a618b+0x1)[_0x375f00(0xf5)](_0x451951=>_0x451951['low']);if(_0x5d85b8[_0x47fe65][_0x375f00(0x103)]===Math[_0x375f00(0xd8)](..._0x2b4980))_0x5d8886[_0x375f00(0xde)]({'type':_0x375f00(0x103),'index':_0x47fe65});if(_0x5d85b8[_0x47fe65][_0x375f00(0xf7)]===Math[_0x375f00(0xef)](..._0xce8483))_0x5d8886[_0x375f00(0xde)]({'type':_0x375f00(0xf7),'index':_0x47fe65});}return _0x5d8886;}function _0x568596(_0x2d0fca,_0x18edba){const _0x2b46a4=_0x11febd,_0x25a796=_0x5d8770(_0x2d0fca,_0x18edba);if(_0x25a796[_0x2b46a4(0xea)]<0x4)return null;const _0x4b215a=_0x25a796[_0x2b46a4(0xf1)](-0x4);let _0x13f028=![],_0x1207d0=![],_0xee54dc=![],_0x138ec1=![];for(let _0x2b2c74=0x1;_0x2b2c74<_0x4b215a[_0x2b46a4(0xea)];_0x2b2c74++){const _0x188829=_0x4b215a[_0x2b2c74-0x1],_0x34633f=_0x4b215a[_0x2b2c74];if(_0x34633f[_0x2b46a4(0x107)]==='high'&&_0x2d0fca[_0x34633f[_0x2b46a4(0xe6)]][_0x2b46a4(0x103)]>_0x2d0fca[_0x188829[_0x2b46a4(0xe6)]][_0x2b46a4(0x103)])_0x13f028=!![];if(_0x34633f[_0x2b46a4(0x107)]===_0x2b46a4(0xf7)&&_0x2d0fca[_0x34633f[_0x2b46a4(0xe6)]][_0x2b46a4(0xf7)]>_0x2d0fca[_0x188829['index']][_0x2b46a4(0xf7)])_0x1207d0=!![];if(_0x34633f[_0x2b46a4(0x107)]==='high'&&_0x2d0fca[_0x34633f['index']][_0x2b46a4(0x103)]<_0x2d0fca[_0x188829[_0x2b46a4(0xe6)]]['high'])_0xee54dc=!![];if(_0x34633f['type']==='low'&&_0x2d0fca[_0x34633f['index']][_0x2b46a4(0xf7)]<_0x2d0fca[_0x188829[_0x2b46a4(0xe6)]][_0x2b46a4(0xf7)])_0x138ec1=!![];}if(_0x13f028&&_0x1207d0)return _0x2b46a4(0x10f);if(_0xee54dc&&_0x138ec1)return _0x2b46a4(0x109);return null;}function _0x43e3d1(_0x6c26c9,_0x1c7f88){const _0x4ce46b=_0x6c26c9-_0x1c7f88,_0x26dad9=_0x1c7f88+_0x4ce46b*0.5;return{'premium':_0x26dad9,'discount':_0x26dad9};}const _0x4f3258=_0x5d8770(_0x2a7b11),_0x386be9=[],_0x5058fc=[],_0x29ceb6=[],_0x53cb0f=[],_0x53ab8a=[],_0x7b1052={'orderBlocks':[],'fvgs':[]};let _0x4e6275=null;for(let _0x1cf079=0x1;_0x1cf079<_0x4f3258['length'];_0x1cf079++){const _0x3d6710=_0x4f3258[_0x1cf079-0x1],_0xce5ca0=_0x4f3258[_0x1cf079];let _0x3ae91e=null;if(_0xce5ca0['type']===_0x11febd(0x103)&&_0x2a7b11[_0xce5ca0[_0x11febd(0xe6)]][_0x11febd(0x103)]>_0x2a7b11[_0x3d6710['index']]['high'])_0x3ae91e='bullish';if(_0xce5ca0[_0x11febd(0x107)]===_0x11febd(0xf7)&&_0x2a7b11[_0xce5ca0[_0x11febd(0xe6)]]['low']<_0x2a7b11[_0x3d6710[_0x11febd(0xe6)]]['low'])_0x3ae91e=_0x11febd(0x109);_0x3ae91e&&(_0x386be9[_0x11febd(0xde)]({'direction':_0x3ae91e,'index':_0xce5ca0[_0x11febd(0xe6)],'strength':0.5}),_0x4e6275&&_0x3ae91e!==_0x4e6275&&_0x5058fc['push']({'direction':_0x3ae91e,'index':_0xce5ca0['index'],'strength':0.6}),_0x4e6275=_0x3ae91e);}for(let _0x1078f8=0x1;_0x1078f8<_0x2a7b11[_0x11febd(0xea)]-0x1;_0x1078f8++){const _0x2481eb=_0x2a7b11[_0x1078f8-0x1],_0x249510=_0x2a7b11[_0x1078f8],_0x5f13d7=_0x2a7b11[_0x1078f8+0x1],_0x14c8ab=_0x2a7b11[_0x11febd(0xf1)](_0x1078f8-0x5,_0x1078f8)[_0x11febd(0xe5)]((_0x2eb1b6,_0x512a85)=>_0x2eb1b6+_0x512a85[_0x11febd(0xee)],0x0)/0x5;if(_0x249510['low']>_0x2481eb[_0x11febd(0x103)]*1.001&&_0x249510[_0x11febd(0xf7)]>_0x5f13d7[_0x11febd(0xf7)]&&_0x249510[_0x11febd(0xee)]>_0x14c8ab*1.2){const _0x43a368={'type':'bullish','start':_0x2481eb[_0x11febd(0x103)],'end':_0x249510[_0x11febd(0xf7)],'index':_0x1078f8,'mitigated':![],'strength':Math[_0x11febd(0xef)](0.8,(_0x249510['low']-_0x2481eb['high'])/_0x2481eb[_0x11febd(0x103)])};_0x29ceb6['push'](_0x43a368),_0x7b1052[_0x11febd(0xdf)]['push'](_0x43a368);}if(_0x249510[_0x11febd(0x103)]<_0x2481eb[_0x11febd(0xf7)]*0.999&&_0x249510['high']<_0x5f13d7[_0x11febd(0x103)]&&_0x249510[_0x11febd(0xee)]>_0x14c8ab*1.2){const _0x4fec53={'type':_0x11febd(0x109),'start':_0x249510['high'],'end':_0x2481eb['low'],'index':_0x1078f8,'mitigated':![],'strength':Math['min'](0.8,(_0x2481eb[_0x11febd(0xf7)]-_0x249510[_0x11febd(0x103)])/_0x2481eb[_0x11febd(0xf7)])};_0x29ceb6['push'](_0x4fec53),_0x7b1052[_0x11febd(0xdf)]['push'](_0x4fec53);}}for(const _0x6c6a0e of _0x4f3258){const _0x4cf822=_0x6c6a0e[_0x11febd(0xe6)]-0x1;if(_0x4cf822>0x0){const _0xc2468a=_0x2a7b11[_0x4cf822],_0x5c1b5f=_0xc2468a[_0x11febd(0x103)]-_0xc2468a[_0x11febd(0xf7)],_0x53dbd0=Math[_0x11febd(0x111)](_0xc2468a[_0x11febd(0x10c)]-_0xc2468a[_0x11febd(0xfd)]),_0x540f52=_0x53dbd0>_0x5c1b5f*0.6;if(_0x6c6a0e[_0x11febd(0x107)]===_0x11febd(0xf7)&&_0xc2468a[_0x11febd(0x10c)]<_0xc2468a['open']&&_0x540f52){const _0x101208={'type':_0x11febd(0x10f),'high':_0xc2468a[_0x11febd(0x103)],'low':_0xc2468a[_0x11febd(0xf7)],'index':_0x4cf822,'mitigated':![],'strength':0.7};_0x53cb0f[_0x11febd(0xde)](_0x101208),_0x7b1052[_0x11febd(0xe4)][_0x11febd(0xde)](_0x101208);}if(_0x6c6a0e[_0x11febd(0x107)]==='high'&&_0xc2468a[_0x11febd(0x10c)]>_0xc2468a['open']&&_0x540f52){const _0x10b8bc={'type':'bearish','high':_0xc2468a[_0x11febd(0x103)],'low':_0xc2468a[_0x11febd(0xf7)],'index':_0x4cf822,'mitigated':![],'strength':0.7};_0x53cb0f[_0x11febd(0xde)](_0x10b8bc),_0x7b1052[_0x11febd(0xe4)][_0x11febd(0xde)](_0x10b8bc);}}}for(let _0x133a49=0x0;_0x133a49<_0x2a7b11[_0x11febd(0xea)];_0x133a49++){const {high:_0x57a250,low:_0x1fb722}=_0x2a7b11[_0x133a49],_0x1d60b3=0x14;_0x7b1052[_0x11febd(0xe4)][_0x11febd(0xf4)](_0x3dd0e0=>{const _0x4857a8=_0x11febd;if(!_0x3dd0e0[_0x4857a8(0xda)]&&(_0x3dd0e0[_0x4857a8(0x107)]===_0x4857a8(0x10f)&&_0x1fb722<=_0x3dd0e0[_0x4857a8(0xf7)]&&_0x133a49-_0x3dd0e0['index']<=_0x1d60b3||_0x3dd0e0[_0x4857a8(0x107)]===_0x4857a8(0x109)&&_0x57a250>=_0x3dd0e0[_0x4857a8(0x103)]&&_0x133a49-_0x3dd0e0[_0x4857a8(0xe6)]<=_0x1d60b3))_0x3dd0e0[_0x4857a8(0xda)]=!![];}),_0x7b1052[_0x11febd(0xdf)]['forEach'](_0x443166=>{const _0x42709b=_0x11febd;if(!_0x443166[_0x42709b(0xda)]&&(_0x443166[_0x42709b(0x107)]==='bullish'&&_0x1fb722<=_0x443166[_0x42709b(0xd9)]&&_0x133a49-_0x443166[_0x42709b(0xe6)]<=_0x1d60b3||_0x443166[_0x42709b(0x107)]==='bearish'&&_0x57a250>=_0x443166[_0x42709b(0x10b)]&&_0x133a49-_0x443166['index']<=_0x1d60b3))_0x443166['mitigated']=!![];});}const _0x3b346c=_0x4f3258[_0x11febd(0xf1)](-0x2);let _0x2c51ea,_0x5d2397;if(_0x3b346c[_0x11febd(0xea)]>=0x2){const _0x364728=_0x3b346c[0x1][_0x11febd(0x107)]==='high'?_0x2a7b11[_0x3b346c[0x1][_0x11febd(0xe6)]][_0x11febd(0x103)]:_0x2a7b11[_0x3b346c[0x0][_0x11febd(0xe6)]][_0x11febd(0x103)],_0x527201=_0x3b346c[0x0][_0x11febd(0x107)]===_0x11febd(0xf7)?_0x2a7b11[_0x3b346c[0x0][_0x11febd(0xe6)]][_0x11febd(0xf7)]:_0x2a7b11[_0x3b346c[0x1][_0x11febd(0xe6)]][_0x11febd(0xf7)],_0x568f34=_0x43e3d1(_0x364728,_0x527201);_0x2c51ea=_0x568f34[_0x11febd(0xfc)],_0x5d2397=_0x568f34['discount'];}for(const _0x35b3f1 of _0x386be9){const _0x32a118=[..._0x7b1052['orderBlocks'],..._0x7b1052[_0x11febd(0xdf)]]['filter'](_0x4007b3=>_0x4007b3[_0x11febd(0x107)]===_0x35b3f1['direction']&&_0x4007b3['index']<_0x35b3f1[_0x11febd(0xe6)]&&!_0x4007b3[_0x11febd(0xda)])[_0x11febd(0xe1)]();if(!_0x32a118)continue;const _0x5eef9d=_0x32a118[_0x11febd(0xf7)]??_0x32a118[_0x11febd(0xd9)],_0x13e18c=_0x32a118[_0x11febd(0x103)]??_0x32a118['end'];for(let _0x5830de=_0x35b3f1['index']+0x1;_0x5830de<Math[_0x11febd(0xef)](_0x2a7b11[_0x11febd(0xea)],_0x35b3f1[_0x11febd(0xe6)]+0xb);_0x5830de++){const {high:_0x93158c,low:_0x6ac256,time:_0x45da3a}=_0x2a7b11[_0x5830de];let _0x974479=![];_0x35b3f1['direction']===_0x11febd(0x10f)?_0x974479=_0x6ac256<=_0x13e18c&&_0x93158c>=_0x5eef9d:_0x974479=_0x93158c>=_0x5eef9d&&_0x6ac256<=_0x13e18c;if(!_0x974479)continue;if(_0x35b3f1['direction']===_0x11febd(0x10f)&&_0x6ac256>_0x5d2397)continue;if(_0x35b3f1['direction']===_0x11febd(0x109)&&_0x93158c<_0x2c51ea)continue;const _0x4df28e=_0x2a7b11[_0x11febd(0xf1)](Math[_0x11febd(0xd8)](0x0,_0x5830de-0x3),_0x5830de+0x1),_0x3107c8=detectCandlestickPatterns(_0x4df28e[_0x11febd(0xf5)](_0x31afbd=>[_0x31afbd[_0x11febd(0xf6)],_0x31afbd[_0x11febd(0xfd)],_0x31afbd['high'],_0x31afbd[_0x11febd(0xf7)],_0x31afbd[_0x11febd(0x10c)],_0x31afbd[_0x11febd(0xee)]])),_0x3d4174=_0x3107c8[_0x11febd(0xfb)](_0x56bb76=>_0x35b3f1[_0x11febd(0xe3)]===_0x11febd(0x10f)&&_0x56bb76[_0x11febd(0x100)]===0x1||_0x35b3f1[_0x11febd(0xe3)]===_0x11febd(0x109)&&_0x56bb76['signal']===-0x1);if(_0x3d4174&&(!_0x3042e6||_0x3042e6===_0x35b3f1[_0x11febd(0xe3)])){_0x53ab8a[_0x11febd(0xde)]({'direction':_0x35b3f1['direction'],'entryIndex':_0x5830de,'zone':_0x32a118});break;}}}const _0x13978d=_0x244c58=>_0x244c58[_0x11febd(0xea)]?_0x244c58[_0x244c58[_0x11febd(0xea)]-0x1]:null,_0x140b3c=[];function _0x413c0f(_0x1a9250){const _0x19762e=_0x11febd;if(_0x3042e6&&_0x1a9250[_0x19762e(0x100)]===0x1&&_0x3042e6!=='bullish')return;if(_0x3042e6&&_0x1a9250[_0x19762e(0x100)]===-0x1&&_0x3042e6!==_0x19762e(0x109))return;_0x140b3c['push'](_0x1a9250);}const _0x3d6674=_0x13978d(_0x53ab8a);if(_0x3d6674)_0x413c0f({'name':_0x11febd(0x106),'signal':_0x3d6674['direction']===_0x11febd(0x10f)?0x1:-0x1,'strength':0.9,'weight':_0x59f4df[_0x11febd(0xff)]?.[_0x11febd(0xeb)]||0x6,'display':'Entry\x20@\x20'+_0x2a7b11[_0x3d6674[_0x11febd(0xdc)]]['time'],'index':_0x3d6674['entryIndex']});const _0x50a7b3=_0x13978d(_0x5058fc);if(_0x50a7b3)_0x413c0f({'name':_0x11febd(0xd6),'signal':_0x50a7b3['direction']===_0x11febd(0x10f)?0x1:-0x1,'strength':_0x50a7b3[_0x11febd(0xdd)]||0.6,'weight':_0x59f4df['smcChartPatterns']?.['smcChoCh']||0x5,'display':_0x11febd(0x105)+_0x50a7b3[_0x11febd(0xe3)],'index':_0x50a7b3[_0x11febd(0xe6)]});const _0x4c061d=_0x13978d(_0x386be9);if(_0x4c061d)_0x413c0f({'name':'Break\x20of\x20Structure','signal':_0x4c061d['direction']===_0x11febd(0x10f)?0x1:-0x1,'strength':_0x4c061d['strength']||0.5,'weight':_0x59f4df[_0x11febd(0xff)]?.[_0x11febd(0xf2)]||0x3,'display':_0x11febd(0xf0)+_0x4c061d['direction'],'index':_0x4c061d[_0x11febd(0xe6)]});const _0x43a61e=_0x13978d(_0x29ceb6['filter'](_0xc20e75=>!_0xc20e75[_0x11febd(0xda)]));if(_0x43a61e)_0x413c0f({'name':'Fair\x20Value\x20Gap','signal':_0x43a61e[_0x11febd(0x107)]===_0x11febd(0x10f)?0x1:-0x1,'strength':_0x43a61e[_0x11febd(0xdd)]||0.6,'weight':_0x59f4df[_0x11febd(0xff)]?.[_0x11febd(0x114)]||0x4,'display':'FVG\x20'+_0x43a61e[_0x11febd(0x107)]+_0x11febd(0x10a)+_0x43a61e[_0x11febd(0xd9)]+'-'+_0x43a61e[_0x11febd(0x10b)],'index':_0x43a61e[_0x11febd(0xe6)]});const _0x6a91b0=_0x13978d(_0x53cb0f['filter'](_0x582d64=>!_0x582d64[_0x11febd(0xda)]));if(_0x6a91b0)_0x413c0f({'name':_0x11febd(0xf8),'signal':_0x6a91b0[_0x11febd(0x107)]==='bullish'?0x1:-0x1,'strength':_0x6a91b0[_0x11febd(0xdd)]||0.7,'weight':_0x59f4df[_0x11febd(0xff)]?.[_0x11febd(0xd7)]||0x5,'display':'OB\x20'+_0x6a91b0[_0x11febd(0x107)]+_0x11febd(0x10a)+_0x6a91b0[_0x11febd(0xf7)]+'-'+_0x6a91b0[_0x11febd(0x103)],'index':_0x6a91b0[_0x11febd(0xe6)]});return _0x140b3c;}